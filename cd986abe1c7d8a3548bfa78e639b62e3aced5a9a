{
  "comments": [
    {
      "key": {
        "uuid": "73253b88_5dcaf694",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 19,
      "author": {
        "id": 1013030
      },
      "writtenOn": "2018-12-11T10:54:02Z",
      "side": 1,
      "message": "TBH I\u0027m not a big fan of this format; I think in almost all cases, I\u0027d want to see just the APEX packages. Do you know if there are tools that parse these lines?",
      "range": {
        "startLine": 17,
        "startChar": 0,
        "endLine": 19,
        "endChar": 36
      },
      "revId": "cd986abe1c7d8a3548bfa78e639b62e3aced5a9a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9f224fbc_a316a5e7",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 19,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2018-12-11T10:58:35Z",
      "side": 1,
      "message": "I would like to have such option (i.e., MATCH_ONLY_APEX) but people didn\u0027t like it.\n\nThese lines are parsed by several places. One place that I am looking at is \n\ntools/tradefederation/core/src/com/android/tradefed/device/TestDevice.java:81\n\nprivate static final Pattern PACKAGE_REGEX \u003d Pattern.compile(\"package:(.*)\u003d(.*)\");",
      "parentUuid": "73253b88_5dcaf694",
      "range": {
        "startLine": 17,
        "startChar": 0,
        "endLine": 19,
        "endChar": 36
      },
      "revId": "cd986abe1c7d8a3548bfa78e639b62e3aced5a9a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a642d41f_ea5344a6",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 19,
      "author": {
        "id": 1013030
      },
      "writtenOn": "2018-12-11T11:05:14Z",
      "side": 1,
      "message": "Even if the PM flag means \u0027also include apex\u0027, we can still do something different here. If this is what we want, we can just add an --apex-only arg here, call with MATCH_APEX and filter out the non-apex packages. This way we can also be sure we don\u0027t break existing parsers (though it seems the chance is small with it being added at the end).",
      "parentUuid": "9f224fbc_a316a5e7",
      "range": {
        "startLine": 17,
        "startChar": 0,
        "endLine": 19,
        "endChar": 36
      },
      "revId": "cd986abe1c7d8a3548bfa78e639b62e3aced5a9a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6b4bddb9_29457d42",
        "filename": "services/core/java/com/android/server/pm/PackageManagerShellCommand.java",
        "patchSetId": 1
      },
      "lineNbr": 618,
      "author": {
        "id": 1013030
      },
      "writtenOn": "2018-12-11T10:54:02Z",
      "side": 1,
      "message": "can we just have a branch (or even function) for info.isApex in the beginning to avoid all the logic changes? We\u0027re in a bit of a weird place with info.applicationInfo \u003d\u003d null, and I worry people might forget to check for it when adding new stuff later.",
      "range": {
        "startLine": 616,
        "startChar": 13,
        "endLine": 618,
        "endChar": 77
      },
      "revId": "cd986abe1c7d8a3548bfa78e639b62e3aced5a9a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "024986e2_64f9e0bd",
        "filename": "services/core/java/com/android/server/pm/PackageManagerShellCommand.java",
        "patchSetId": 1
      },
      "lineNbr": 618,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2018-12-11T10:58:35Z",
      "side": 1,
      "message": "I think we should make applicationInfo outof ApexInfo. For example, things like showVersionCode, showSourceDir are useful even to APEXes.",
      "parentUuid": "6b4bddb9_29457d42",
      "range": {
        "startLine": 616,
        "startChar": 13,
        "endLine": 618,
        "endChar": 77
      },
      "revId": "cd986abe1c7d8a3548bfa78e639b62e3aced5a9a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b2d9251a_99fe0bc2",
        "filename": "services/core/java/com/android/server/pm/PackageManagerShellCommand.java",
        "patchSetId": 1
      },
      "lineNbr": 618,
      "author": {
        "id": 1013030
      },
      "writtenOn": "2018-12-11T11:05:14Z",
      "side": 1,
      "message": "Sure, that also works for me.",
      "parentUuid": "024986e2_64f9e0bd",
      "range": {
        "startLine": 616,
        "startChar": 13,
        "endLine": 618,
        "endChar": 77
      },
      "revId": "cd986abe1c7d8a3548bfa78e639b62e3aced5a9a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}