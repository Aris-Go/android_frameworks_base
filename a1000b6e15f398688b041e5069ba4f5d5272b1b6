{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "026eae03_6ac7e185",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1936176
      },
      "writtenOn": "2024-05-24T01:22:48Z",
      "side": 1,
      "message": "Sorry, I realized that my solution didn\u0027t quite cover some of the more complex view hierarchies, so I decided to go with my solution. Maybe we need a better solution.\n\nE.G.\nViewGroup1\n   --ViewGroup2\n   ----SurfaceView\n   --ViewGroup3\n   ----CoverView\n\nWhen SurfaceView calls requestTransparentRegion, as long as ViewGroup1 and ViewGroup2 have flag PFLAG_REQUEST_TRANSPARENT_REGIONS. ViewGroup3 doesn\u0027t have the flag PFLAG_REQUEST_TRANSPARENT_REGIONS, so my change won\u0027t take effect.",
      "revId": "a1000b6e15f398688b041e5069ba4f5d5272b1b6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "962739b5_cee78bee",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1060493
      },
      "writtenOn": "2024-05-24T15:43:03Z",
      "side": 1,
      "message": "Nader, do you know about this area? I don\u0027t feel like I\u0027m the expert and John is on leave.",
      "revId": "a1000b6e15f398688b041e5069ba4f5d5272b1b6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "235262ba_79cba6c5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1345596
      },
      "writtenOn": "2024-05-24T17:52:48Z",
      "side": 1,
      "message": "Adding Alec as well to double check.",
      "revId": "a1000b6e15f398688b041e5069ba4f5d5272b1b6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a873132b_b1c9434f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1470474
      },
      "writtenOn": "2024-05-28T15:42:29Z",
      "side": 1,
      "message": "I believe there is an equivalent check in `View#onAttachedtoWindow`, so adding this check here doesn\u0027t seem like it hurts.",
      "revId": "a1000b6e15f398688b041e5069ba4f5d5272b1b6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7b4b5390_c18feb97",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1470474
      },
      "writtenOn": "2024-05-28T15:42:29Z",
      "side": 1,
      "message": "I\u0027m not sure how this doesn\u0027t work. When ViewGroup3 becomes visible, it should still trigger this path.",
      "parentUuid": "026eae03_6ac7e185",
      "revId": "a1000b6e15f398688b041e5069ba4f5d5272b1b6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c319588b_13cd4be8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1936176
      },
      "writtenOn": "2024-05-29T01:13:25Z",
      "side": 1,
      "message": "// ViewGroup.java\n    protected void onChildVisibilityChanged(View child, int oldVisibility, int newVisibility) {\n        // Patch-Begin \n        if ((mPrivateFlags \u0026 PFLAG_REQUEST_TRANSPARENT_REGIONS) !\u003d 0) {\n            mParent.requestTransparentRegion(this);\n        }\n        // Patch-End\n        // ...\n    }\n   \nBecause only a ViewGroup with a flag PFLAG_REQUEST_TRANSPARENT_REGIONS calls requestTransparentRegion().\n\nBut when a SurfaceView calls requestTransparentRegion(), only the parents and ancestors of the SurfaceView carry this flag(PFLAG_REQUEST_TRANSPARENT_REGIONS), so ViewGroup does not have it.\n\n    // ViewGroup.java\n    @Override\n    public void requestTransparentRegion(View child) {\n        if (child !\u003d null) {\n            child.mPrivateFlags |\u003d View.PFLAG_REQUEST_TRANSPARENT_REGIONS;\n            if (mParent !\u003d null) {\n                // The call propagates upwards, so only its parents and ancestors carry this flag.\n                mParent.requestTransparentRegion(this);\n            }\n        }\n    }",
      "parentUuid": "7b4b5390_c18feb97",
      "revId": "a1000b6e15f398688b041e5069ba4f5d5272b1b6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}