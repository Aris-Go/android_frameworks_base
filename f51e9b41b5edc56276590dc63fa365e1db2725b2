{
  "comments": [
    {
      "key": {
        "uuid": "cc3e332b_42c62826",
        "filename": "services/backup/java/com/android/server/backup/UserBackupManagerService.java",
        "patchSetId": 1
      },
      "lineNbr": 1087,
      "author": {
        "id": 1081223
      },
      "writtenOn": "2020-07-23T13:29:08Z",
      "side": 1,
      "message": "Wouldn\u0027t a simple int also work?\nWe aren\u0027t running any thread",
      "range": {
        "startLine": 1087,
        "startChar": 8,
        "endLine": 1087,
        "endChar": 59
      },
      "revId": "f51e9b41b5edc56276590dc63fa365e1db2725b2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7ca8dd5d_befa23ec",
        "filename": "services/backup/java/com/android/server/backup/UserBackupManagerService.java",
        "patchSetId": 1
      },
      "lineNbr": 1087,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2020-07-23T15:18:30Z",
      "side": 1,
      "message": "I get this error when using a simple int or even Integer:\n\nframeworks/base/services/backup/java/com/android/server/backup/UserBackupManagerService.java:1092: error: local variables referenced from a lambda expression must be final or effectively final\n                          staleJournals++;",
      "parentUuid": "cc3e332b_42c62826",
      "range": {
        "startLine": 1087,
        "startChar": 8,
        "endLine": 1087,
        "endChar": 59
      },
      "revId": "f51e9b41b5edc56276590dc63fa365e1db2725b2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6ef8b5e4_3359d68e",
        "filename": "services/backup/java/com/android/server/backup/UserBackupManagerService.java",
        "patchSetId": 1
      },
      "lineNbr": 1087,
      "author": {
        "id": 1081223
      },
      "writtenOn": "2020-07-23T16:10:15Z",
      "side": 1,
      "message": "Oh i see, you have to convert it into a standard for loop\nLambda captures aren\u0027t supported in java :(",
      "parentUuid": "7ca8dd5d_befa23ec",
      "revId": "f51e9b41b5edc56276590dc63fa365e1db2725b2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7c31f2de_05b2f98b",
        "filename": "services/backup/java/com/android/server/backup/UserBackupManagerService.java",
        "patchSetId": 1
      },
      "lineNbr": 1087,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2020-07-23T16:22:31Z",
      "side": 1,
      "message": "I don\u0027t think I can change it to a standard for loop either.  This `forEach()` call is a method of https://cs.android.com/android/platform/superproject/+/master:frameworks/base/services/backup/java/com/android/server/backup/DataChangedJournal.java;l\u003d74?q\u003dDataChangedJournal and that class doesn\u0027t implement Iterable.  Changing that is a bit out of scope of this change, which I\u0027m hoping will be small despite having an outsized benefit in reducing log spam.\n\n\u003e Lambda captures aren\u0027t supported in java :(\n\nI was surprised to see that too :(",
      "parentUuid": "6ef8b5e4_3359d68e",
      "range": {
        "startLine": 1087,
        "startChar": 8,
        "endLine": 1087,
        "endChar": 59
      },
      "revId": "f51e9b41b5edc56276590dc63fa365e1db2725b2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "969a0048_34f9eeb5",
        "filename": "services/backup/java/com/android/server/backup/UserBackupManagerService.java",
        "patchSetId": 1
      },
      "lineNbr": 1087,
      "author": {
        "id": 1081223
      },
      "writtenOn": "2020-07-23T16:25:48Z",
      "side": 1,
      "message": "You can use journal.getPackages()",
      "parentUuid": "7c31f2de_05b2f98b",
      "revId": "f51e9b41b5edc56276590dc63fa365e1db2725b2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a99c7fd2_dc158805",
        "filename": "services/backup/java/com/android/server/backup/UserBackupManagerService.java",
        "patchSetId": 1
      },
      "lineNbr": 1087,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2020-07-23T16:43:12Z",
      "side": 1,
      "message": "Ah, got it, thanks.\n\nThis CL is going to need to be merged internal first, so we\u0027ll see what they have to say in that review too.  I\u0027m sure I\u0027m making other style mistakes too.",
      "parentUuid": "969a0048_34f9eeb5",
      "range": {
        "startLine": 1087,
        "startChar": 8,
        "endLine": 1087,
        "endChar": 59
      },
      "revId": "f51e9b41b5edc56276590dc63fa365e1db2725b2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}