{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "86f475f7_cd53e147",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1328430
      },
      "writtenOn": "2021-01-07T09:13:05Z",
      "side": 1,
      "message": "Incorrectly set the code review.",
      "revId": "800fe5d5ba84beae994401e5d6c709bf118f8aa4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fd33a25a_0edfecbc",
        "filename": "core/java/android/se/omapi/SEService.java",
        "patchSetId": 5
      },
      "lineNbr": 92,
      "author": {
        "id": 1051483
      },
      "writtenOn": "2021-01-06T22:13:18Z",
      "side": 1,
      "message": "what is the type associated with the extra? (according to the other patch, it looks like a string?)\n\nare the reasons something that we could define an intdef for?",
      "range": {
        "startLine": 92,
        "startChar": 31,
        "endLine": 92,
        "endChar": 64
      },
      "revId": "800fe5d5ba84beae994401e5d6c709bf118f8aa4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3516235d_4064df47",
        "filename": "core/java/android/se/omapi/SEService.java",
        "patchSetId": 5
      },
      "lineNbr": 92,
      "author": {
        "id": 1138138
      },
      "writtenOn": "2021-01-06T23:30:24Z",
      "side": 1,
      "message": "It holds extra information explaining why there was a state change \u0026 each SE vendor has been specifying their own strings/reasons. Changing to uniform intdef would require Secure element HAL change as well - not clear if there were any plans to do that. Jack WDYT?\n\nIt would be useful for the secure element app to know the exact reasons for the state change (but we can always just listen for the broadcast, and then attempt to talk to the SE as an extra step to confirm if it\u0027s because the SE is in error state )",
      "parentUuid": "fd33a25a_0edfecbc",
      "range": {
        "startLine": 92,
        "startChar": 31,
        "endLine": 92,
        "endChar": 64
      },
      "revId": "800fe5d5ba84beae994401e5d6c709bf118f8aa4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "327133ab_2cbd0931",
        "filename": "core/java/android/se/omapi/SEService.java",
        "patchSetId": 5
      },
      "lineNbr": 92,
      "author": {
        "id": 1138138
      },
      "writtenOn": "2021-01-06T23:31:49Z",
      "side": 1,
      "message": "secure element *recovery* app",
      "parentUuid": "3516235d_4064df47",
      "range": {
        "startLine": 92,
        "startChar": 31,
        "endLine": 92,
        "endChar": 64
      },
      "revId": "800fe5d5ba84beae994401e5d6c709bf118f8aa4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "58186793_deb63f98",
        "filename": "core/java/android/se/omapi/SEService.java",
        "patchSetId": 5
      },
      "lineNbr": 92,
      "author": {
        "id": 1328430
      },
      "writtenOn": "2021-01-07T03:22:12Z",
      "side": 1,
      "message": "Yes, the parameter \"reason\" is a string reported from the SEHal as extra information for debugging purpose. So we did not define specific format for it.\nGrace, would the handling process be different if the secure element recovery app knows the state change reason in advance?\nIf not, maybe we do not need this extra information in this broadcast?",
      "parentUuid": "327133ab_2cbd0931",
      "range": {
        "startLine": 92,
        "startChar": 31,
        "endLine": 92,
        "endChar": 64
      },
      "revId": "800fe5d5ba84beae994401e5d6c709bf118f8aa4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "45fbc387_09215eed",
        "filename": "core/java/android/se/omapi/SEService.java",
        "patchSetId": 5
      },
      "lineNbr": 92,
      "author": {
        "id": 1138138
      },
      "writtenOn": "2021-01-07T04:58:35Z",
      "side": 1,
      "message": "Defining a standard intdef isn\u0027t required for my purposes, the secure element recovery app can \u0027test\u0027 the OMAPI interface afterward to see if it can communicate and deduce a recovery is needed from that. I would still like the extra reason string passed in though, might want to parse it later.",
      "parentUuid": "58186793_deb63f98",
      "range": {
        "startLine": 92,
        "startChar": 31,
        "endLine": 92,
        "endChar": 64
      },
      "revId": "800fe5d5ba84beae994401e5d6c709bf118f8aa4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "68a089e6_ed22783e",
        "filename": "core/java/android/se/omapi/SEService.java",
        "patchSetId": 5
      },
      "lineNbr": 92,
      "author": {
        "id": 1328430
      },
      "writtenOn": "2021-01-07T09:11:57Z",
      "side": 1,
      "message": "Zach, do you think it\u0027s acceptable to not define a standard intdef for the reason parameter?",
      "parentUuid": "45fbc387_09215eed",
      "range": {
        "startLine": 92,
        "startChar": 31,
        "endLine": 92,
        "endChar": 64
      },
      "revId": "800fe5d5ba84beae994401e5d6c709bf118f8aa4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "648a8979_6cb8e538",
        "filename": "core/java/android/se/omapi/SEService.java",
        "patchSetId": 5
      },
      "lineNbr": 92,
      "author": {
        "id": 1051483
      },
      "writtenOn": "2021-01-07T23:50:54Z",
      "side": 1,
      "message": "since we don\u0027t have a way to enforce the strings are standardized there won\u0027t be a way to ensure they stay meaningful for us across various hardware, so in the end it\u0027s probably better not to include this.\n\nif we do think consumers of the API will want the reasons, we should standardize them now in an intdef.\n\nbut if we\u0027re not sure or it doesn\u0027t seem like a good use of time, it\u0027s best not to include anything. with APIs a no is temporary but a yes is forever",
      "parentUuid": "68a089e6_ed22783e",
      "range": {
        "startLine": 92,
        "startChar": 31,
        "endLine": 92,
        "endChar": 64
      },
      "revId": "800fe5d5ba84beae994401e5d6c709bf118f8aa4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1f2f46e8_ca0eb282",
        "filename": "core/java/android/se/omapi/SEService.java",
        "patchSetId": 5
      },
      "lineNbr": 92,
      "author": {
        "id": 1328430
      },
      "writtenOn": "2021-01-08T13:09:12Z",
      "side": 1,
      "message": "Zack, thank you for the suggestion.\nI tried another way to filter the reason string which is reported from the SE hal in the SecureElement package.\nIf the string does not match the definition, we set it to unknown.\nAnd we could ask vendor to follow the string definition starting from Android S.\nBut the reason string would all be unknown when using the vendor partition before S.\nComparing this with another option to exclude the reason string, which one do you suggest us to use?",
      "parentUuid": "648a8979_6cb8e538",
      "range": {
        "startLine": 92,
        "startChar": 31,
        "endLine": 92,
        "endChar": 64
      },
      "revId": "800fe5d5ba84beae994401e5d6c709bf118f8aa4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}