{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "c41e9c55_c6347aae",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1306837
      },
      "writtenOn": "2021-03-18T11:01:34Z",
      "side": 1,
      "message": "system",
      "range": {
        "startLine": 10,
        "startChar": 58,
        "endLine": 10,
        "endChar": 63
      },
      "revId": "a30a513b289d27b0ab2c5af4d20ba007f739b773",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a72cd805_ac4d8a94",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1306837
      },
      "writtenOn": "2021-03-18T11:01:34Z",
      "side": 1,
      "message": "Not finished but there are some comments.",
      "revId": "a30a513b289d27b0ab2c5af4d20ba007f739b773",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bcf4b493_0a5efe7d",
        "filename": "packages/Connectivity/framework/src/android/net/ConnectivityManager.java",
        "patchSetId": 1
      },
      "lineNbr": 3680,
      "author": {
        "id": 1306837
      },
      "writtenOn": "2021-03-18T11:01:34Z",
      "side": 1,
      "message": "asUid?\nPeople without context might think why don\u0027t we just get uid from binder.\nNo strong opinion.",
      "range": {
        "startLine": 3680,
        "startChar": 53,
        "endLine": 3680,
        "endChar": 56
      },
      "revId": "a30a513b289d27b0ab2c5af4d20ba007f739b773",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "59ad162f_eda62acd",
        "filename": "packages/Connectivity/framework/src/android/net/ConnectivityManager.java",
        "patchSetId": 1
      },
      "lineNbr": 3730,
      "author": {
        "id": 1306837
      },
      "writtenOn": "2021-03-18T11:01:34Z",
      "side": 1,
      "message": "1. reqType the same as above?\n\n2. I don\u0027t think this refactor function is useful unless we are planning to migrate callers to it.\nIf yes, maybe add a todo?\n\nNo strong opinion.",
      "range": {
        "startLine": 3730,
        "startChar": 32,
        "endLine": 3730,
        "endChar": 36
      },
      "revId": "a30a513b289d27b0ab2c5af4d20ba007f739b773",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4b147269_e5025987",
        "filename": "packages/Connectivity/framework/src/android/net/ConnectivityManager.java",
        "patchSetId": 1
      },
      "lineNbr": 4236,
      "author": {
        "id": 1015428
      },
      "writtenOn": "2021-03-18T08:26:08Z",
      "side": 1,
      "message": "@param uid",
      "range": {
        "startLine": 4236,
        "startChar": 5,
        "endLine": 4236,
        "endChar": 6
      },
      "revId": "a30a513b289d27b0ab2c5af4d20ba007f739b773",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e62ebbf6_526a53ea",
        "filename": "packages/Connectivity/framework/src/android/net/ConnectivityManager.java",
        "patchSetId": 1
      },
      "lineNbr": 4292,
      "author": {
        "id": 1306837
      },
      "writtenOn": "2021-03-18T12:43:16Z",
      "side": 1,
      "message": "Stupid question: Don\u0027t have much context about this one, but given that System UID is just one special case of UIDs. I\u0027m curious about if this can be replaced by \n\nsendRequestForNetwork(1000, networkCallback, TRACK_DEFAULT, cbHandler);\n\nor \n  redirect registerDefaultNetworkCallbackAsUid(uid \u003d1000) to sendRequestForNetwork(null, networkCallback, 0, TRACK_SYSTEM_DEFAULT, TYPE_NONE, cbHandler);\n\nIf yes maybe we don\u0027t even need this API?",
      "range": {
        "startLine": 4291,
        "startChar": 9,
        "endLine": 4292,
        "endChar": 60
      },
      "revId": "a30a513b289d27b0ab2c5af4d20ba007f739b773",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b8bc08ca_98beab7a",
        "filename": "services/core/java/com/android/server/ConnectivityService.java",
        "patchSetId": 1
      },
      "lineNbr": 5534,
      "author": {
        "id": 1306837
      },
      "writtenOn": "2021-03-18T12:43:16Z",
      "side": 1,
      "message": "Do we need any validation of this uid since this is filled by user?",
      "range": {
        "startLine": 5534,
        "startChar": 20,
        "endLine": 5534,
        "endChar": 25
      },
      "revId": "a30a513b289d27b0ab2c5af4d20ba007f739b773",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3c98c28e_fb0b829c",
        "filename": "services/core/java/com/android/server/ConnectivityService.java",
        "patchSetId": 1
      },
      "lineNbr": 5537,
      "author": {
        "id": 1306837
      },
      "writtenOn": "2021-03-18T11:01:34Z",
      "side": 1,
      "message": "This is already done at l.5545?",
      "range": {
        "startLine": 5537,
        "startChar": 20,
        "endLine": 5537,
        "endChar": 46
      },
      "revId": "a30a513b289d27b0ab2c5af4d20ba007f739b773",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8540c24a_95e9d178",
        "filename": "services/core/java/com/android/server/ConnectivityService.java",
        "patchSetId": 1
      },
      "lineNbr": 5544,
      "author": {
        "id": 1306837
      },
      "writtenOn": "2021-03-18T11:01:34Z",
      "side": 1,
      "message": "Should we use asUid here?",
      "range": {
        "startLine": 5544,
        "startChar": 35,
        "endLine": 5544,
        "endChar": 45
      },
      "revId": "a30a513b289d27b0ab2c5af4d20ba007f739b773",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c1f0d89c_25cf2980",
        "filename": "tests/net/java/com/android/server/ConnectivityServiceTest.java",
        "patchSetId": 1
      },
      "lineNbr": 7585,
      "author": {
        "id": 1015428
      },
      "writtenOn": "2021-03-18T08:26:08Z",
      "side": 1,
      "message": "I don\u0027t understand why that\u0027s correct. The VPN doesn\u0027t apply to VPN_UID and the default network for VPN_UID is supposed to still be WiFi (see l.7587 making sure of that). I would have expected assertNoCallback.",
      "range": {
        "startLine": 7585,
        "startChar": 30,
        "endLine": 7585,
        "endChar": 67
      },
      "revId": "a30a513b289d27b0ab2c5af4d20ba007f739b773",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1de4f027_15105c0c",
        "filename": "tests/net/java/com/android/server/ConnectivityServiceTest.java",
        "patchSetId": 1
      },
      "lineNbr": 7585,
      "author": {
        "id": 1306837
      },
      "writtenOn": "2021-03-18T12:43:16Z",
      "side": 1,
      "message": "+1",
      "parentUuid": "c1f0d89c_25cf2980",
      "range": {
        "startLine": 7585,
        "startChar": 30,
        "endLine": 7585,
        "endChar": 67
      },
      "revId": "a30a513b289d27b0ab2c5af4d20ba007f739b773",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c40987d2_a62682b6",
        "filename": "tests/net/java/com/android/server/ConnectivityServiceTest.java",
        "patchSetId": 1
      },
      "lineNbr": 10110,
      "author": {
        "id": 1306837
      },
      "writtenOn": "2021-03-18T12:43:16Z",
      "side": 1,
      "message": "Maybe not for this CL, should we put it into this function given that it is also one of the default callbacks?",
      "range": {
        "startLine": 10110,
        "startChar": 17,
        "endLine": 10110,
        "endChar": 47
      },
      "revId": "a30a513b289d27b0ab2c5af4d20ba007f739b773",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "04f1bcac_16a8a2ad",
        "filename": "tests/net/java/com/android/server/ConnectivityServiceTest.java",
        "patchSetId": 1
      },
      "lineNbr": 10291,
      "author": {
        "id": 1015428
      },
      "writtenOn": "2021-03-18T08:26:08Z",
      "side": 1,
      "message": "Nit : it\u0027s probably a good idea to have a helper like\n\n  void withPermissionGranted(String permission, Runnable r) {\n    if (mServiceContext.checkCallingOrSelfPermission(permission) \u003d\u003d GRANTED) {\n      r.run();\n      return;\n    }\n    try {\n      setPermission(permission, PERMISSION_GRANTED);\n      r.run();\n    } finally {\n      setPermission(permission, PERMISSION_DENIED);\n    }\n  }\n\n\nMaybe not for this patch",
      "range": {
        "startLine": 10290,
        "startChar": 8,
        "endLine": 10291,
        "endChar": 36
      },
      "revId": "a30a513b289d27b0ab2c5af4d20ba007f739b773",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "983e07cd_5d32faf7",
        "filename": "tests/net/java/com/android/server/ConnectivityServiceTest.java",
        "patchSetId": 1
      },
      "lineNbr": 10417,
      "author": {
        "id": 1306837
      },
      "writtenOn": "2021-03-18T12:43:16Z",
      "side": 1,
      "message": "Nit: period.",
      "range": {
        "startLine": 10417,
        "startChar": 96,
        "endLine": 10417,
        "endChar": 97
      },
      "revId": "a30a513b289d27b0ab2c5af4d20ba007f739b773",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}