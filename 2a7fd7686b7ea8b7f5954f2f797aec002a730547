{
  "comments": [
    {
      "key": {
        "uuid": "f37a6e14_2f38d22b",
        "filename": "core/java/android/net/NetworkStats.java",
        "patchSetId": 14
      },
      "lineNbr": 1620,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2020-01-13T13:33:51Z",
      "side": 1,
      "message": "I\u0027m not sure this is a great idea, because it could get slow if there are a lot of entries (particularly because it\u0027s order-insensitive / quadratic). Once we add this method is there, we could end up using it by mistake (e.g., by doing things like putting NetworkStats objects into a container such as a Set or HashMap). If this is really only used for testing, then maybe make it a static method that tatkes two NetworkStats objects? It could be in CtsNetTestUtils.",
      "range": {
        "startLine": 1620,
        "startChar": 19,
        "endLine": 1620,
        "endChar": 25
      },
      "revId": "2a7fd7686b7ea8b7f5954f2f797aec002a730547",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3b1c2610_a9932d96",
        "filename": "core/java/android/net/NetworkStats.java",
        "patchSetId": 14
      },
      "lineNbr": 1620,
      "author": {
        "id": 1306837
      },
      "writtenOn": "2020-01-14T07:53:05Z",
      "side": 1,
      "message": "Done.\nMoved but moved to net-tests-utils suggested by Jean.",
      "parentUuid": "f37a6e14_2f38d22b",
      "range": {
        "startLine": 1620,
        "startChar": 19,
        "endLine": 1620,
        "endChar": 25
      },
      "revId": "2a7fd7686b7ea8b7f5954f2f797aec002a730547",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9c60ccc6_c063ee54",
        "filename": "packages/Tethering/src/com/android/server/connectivity/tethering/OffloadController.java",
        "patchSetId": 14
      },
      "lineNbr": 137,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2020-01-13T13:33:51Z",
      "side": 1,
      "message": "This seems quite bad. I wonder if we should just disable offload if this happens? (Doesn\u0027t need to be in this CL.)",
      "range": {
        "startLine": 137,
        "startChar": 72,
        "endLine": 137,
        "endChar": 73
      },
      "revId": "2a7fd7686b7ea8b7f5954f2f797aec002a730547",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4bb9dc6e_59a5e8ba",
        "filename": "packages/Tethering/src/com/android/server/connectivity/tethering/OffloadController.java",
        "patchSetId": 14
      },
      "lineNbr": 137,
      "author": {
        "id": 1306837
      },
      "writtenOn": "2020-01-14T07:53:05Z",
      "side": 1,
      "message": "Ack\nWill use follow-up CL for this.",
      "parentUuid": "9c60ccc6_c063ee54",
      "range": {
        "startLine": 137,
        "startChar": 72,
        "endLine": 137,
        "endChar": 73
      },
      "revId": "2a7fd7686b7ea8b7f5954f2f797aec002a730547",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c02f17bf_d1449a99",
        "filename": "packages/Tethering/src/com/android/server/connectivity/tethering/OffloadController.java",
        "patchSetId": 14
      },
      "lineNbr": 316,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2020-01-13T13:33:51Z",
      "side": 1,
      "message": "token",
      "range": {
        "startLine": 316,
        "startChar": 53,
        "endLine": 316,
        "endChar": 59
      },
      "revId": "2a7fd7686b7ea8b7f5954f2f797aec002a730547",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "67d9470e_ea706f8f",
        "filename": "packages/Tethering/src/com/android/server/connectivity/tethering/OffloadController.java",
        "patchSetId": 14
      },
      "lineNbr": 316,
      "author": {
        "id": 1306837
      },
      "writtenOn": "2020-01-14T07:53:05Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c02f17bf_d1449a99",
      "range": {
        "startLine": 316,
        "startChar": 53,
        "endLine": 316,
        "endChar": 59
      },
      "revId": "2a7fd7686b7ea8b7f5954f2f797aec002a730547",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e24ace6_6bcfcf51",
        "filename": "packages/Tethering/src/com/android/server/connectivity/tethering/OffloadController.java",
        "patchSetId": 14
      },
      "lineNbr": 332,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2020-01-13T13:33:51Z",
      "side": 1,
      "message": "Is there no need for the if (Looper.myLooper() \u003d\u003d mHandler.getLooper()) check any more? Can that not happen? Or is it an optimization not worth doing?",
      "range": {
        "startLine": 329,
        "startChar": 0,
        "endLine": 332,
        "endChar": 15
      },
      "revId": "2a7fd7686b7ea8b7f5954f2f797aec002a730547",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f5a0e4c7_92566211",
        "filename": "packages/Tethering/src/com/android/server/connectivity/tethering/OffloadController.java",
        "patchSetId": 14
      },
      "lineNbr": 332,
      "author": {
        "id": 1306837
      },
      "writtenOn": "2020-01-14T07:53:05Z",
      "side": 1,
      "message": "IIUC in current code\nif (Looper.myLooper() \u003d\u003d mHandler.getLooper() is true, then we\n updateStatsForCurrentUpstream and push it asynchronously after this funtion returns.\nIf it is false, then we\n updateStatsForCurrentUpstream and push it asynchronously in different thread.\n\nIf so then there is not much difference between them I think.\nThus I removed the check and always post that on the handler.\nIs there anything I missed?",
      "parentUuid": "8e24ace6_6bcfcf51",
      "range": {
        "startLine": 329,
        "startChar": 0,
        "endLine": 332,
        "endChar": 15
      },
      "revId": "2a7fd7686b7ea8b7f5954f2f797aec002a730547",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0a8f9049_538a9ecf",
        "filename": "packages/Tethering/src/com/android/server/connectivity/tethering/OffloadController.java",
        "patchSetId": 14
      },
      "lineNbr": 332,
      "author": {
        "id": 1015428
      },
      "writtenOn": "2020-01-14T08:03:26Z",
      "side": 1,
      "message": "I believe there might have been some synchronicity requirement in the past when called from the handler thread (maybe in tests or something ?). It seems there may not be any more.",
      "parentUuid": "f5a0e4c7_92566211",
      "range": {
        "startLine": 329,
        "startChar": 0,
        "endLine": 332,
        "endChar": 15
      },
      "revId": "2a7fd7686b7ea8b7f5954f2f797aec002a730547",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}