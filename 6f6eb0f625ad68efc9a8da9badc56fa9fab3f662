{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "047230df_440535dc",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2021-11-12T01:39:05Z",
      "side": 1,
      "message": "If you merge this CL, please add test coverage for this field somewhere in CTS, since APIs should have CTS tests when written. I guess you could test that it\u0027s an integer and greater than whatever version was current when GRF was introduced (31 maybe?).\n\nFrom a coverage perspective it would be OK to just use this in IpSecAlgorithmTest (which I guess is where you actually want to use it), but that is complicated because IpSecAlgorithmTest will automerge to sc-mainline-prod and the new API will not exist there. So you\u0027d need a shim for it. In fact, I expect that at least for the next few years the CTS tests will probably just read the sysprop directly since that will work on all supported releases.",
      "revId": "6f6eb0f625ad68efc9a8da9badc56fa9fab3f662",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cd3d3a4c_fe772f42",
        "filename": "core/java/android/os/Build.java",
        "patchSetId": 1
      },
      "lineNbr": 355,
      "author": {
        "id": 1146974
      },
      "writtenOn": "2021-11-12T01:37:51Z",
      "side": 1,
      "message": "Yes, this is true. But this value is to identify and validate the SoC for GRF. This property alone is not helpful to find the required version for tests.\nAs shown https://docs.partner.android.com/gms/building/integrating/extending-os-upgrade-support-windows#new-system-properties, tests need more properties and find the minumum required version from those properties.\n\nTo make the check easier, ro.vedor.api_level is calculated on boot. (aosp/1856020). It will be more helpful to provide ro.vendor.api_level as a Build constant instead of ro.board.first_api_level.\nro.vedor.api_level is set by the init process and never changed after boot. This value can be changed when the device has OTA for vendor upgrade after the GRF period expires.",
      "range": {
        "startLine": 354,
        "startChar": 48,
        "endLine": 355,
        "endChar": 37
      },
      "revId": "6f6eb0f625ad68efc9a8da9badc56fa9fab3f662",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}