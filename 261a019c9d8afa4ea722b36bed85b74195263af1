{
  "comments": [
    {
      "key": {
        "uuid": "1968337b_083922dc",
        "filename": "services/core/java/com/android/server/ConnectivityService.java",
        "patchSetId": 2
      },
      "lineNbr": 3420,
      "author": {
        "id": 1306837
      },
      "writtenOn": "2019-11-12T02:53:28Z",
      "side": 1,
      "message": "IIUC you also want to remove the use of setNetworkForRequest, but I don\u0027t know why.\nDo you explain that somewhere?",
      "revId": "261a019c9d8afa4ea722b36bed85b74195263af1",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ef1db962_23925fe9",
        "filename": "services/core/java/com/android/server/ConnectivityService.java",
        "patchSetId": 2
      },
      "lineNbr": 3420,
      "author": {
        "id": 1308163
      },
      "writtenOn": "2019-11-12T03:19:06Z",
      "side": 1,
      "message": "The setNetworkForRequest() still be there, but it won\u0027t access mNetworkForRequestId anymore.",
      "parentUuid": "1968337b_083922dc",
      "revId": "261a019c9d8afa4ea722b36bed85b74195263af1",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b26e0bde_14b9aeb6",
        "filename": "services/core/java/com/android/server/ConnectivityService.java",
        "patchSetId": 2
      },
      "lineNbr": 3420,
      "author": {
        "id": 1306837
      },
      "writtenOn": "2019-11-12T04:30:23Z",
      "side": 1,
      "message": "If so then the function call of setNetworkForRequest() should be preserved, not inlining its content.",
      "parentUuid": "ef1db962_23925fe9",
      "revId": "261a019c9d8afa4ea722b36bed85b74195263af1",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0ecae0a9_a3a08652",
        "filename": "services/core/java/com/android/server/ConnectivityService.java",
        "patchSetId": 2
      },
      "lineNbr": 3420,
      "author": {
        "id": 1015428
      },
      "writtenOn": "2019-11-19T08:02:14Z",
      "side": 1,
      "message": "I see this as a simplification of the code. In simple words I think that :\n\n  nri.mSatisfier \u003d null;\n\nis simpler to understand than\n\n  setNetworkForRequest(nri, null);\n\nand that\n\n  nri.mSatisfier \u003d myNetwork;\n\nis simpler to understand than\n\n  setNetworkForRequest(nri, myNetwork);\n\nThe reason I think it\u0027s simpler is that it makes it crystal clear that there are no hidden side effects. There is no function call to make potentially complex locking or touching multiple objects at a time. This member is the source of truth for this information, and it\u0027s plain in the code. That\u0027s why I prefer it.\n\n\nOf course this is only true because this is not public API and all of this is private to this file, and because we can reinstate setters at any time. I would not do this if the member was not completely private to the file.\n\nDo you disagree ? If you disagree with this assessment we can keep the functions.",
      "parentUuid": "b26e0bde_14b9aeb6",
      "revId": "261a019c9d8afa4ea722b36bed85b74195263af1",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7c4876ee_d370b427",
        "filename": "services/core/java/com/android/server/ConnectivityService.java",
        "patchSetId": 2
      },
      "lineNbr": 3420,
      "author": {
        "id": 1306837
      },
      "writtenOn": "2019-11-19T10:05:40Z",
      "side": 1,
      "message": "Agree.\nIf so, do we want to remove get/setNetworkForRequest?\nIIUC that there is no caller after this modification.\n\nMy concern is that we might need a central place to do all things that needed to link nri\u003c-\u003enai.\nOtherwise it might be error-prone in future.\nBut as you mentioned in NS A02, we can do this later if that is really needed.",
      "parentUuid": "0ecae0a9_a3a08652",
      "revId": "261a019c9d8afa4ea722b36bed85b74195263af1",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4623dfb7_f08a8a2a",
        "filename": "services/core/java/com/android/server/ConnectivityService.java",
        "patchSetId": 2
      },
      "lineNbr": 6424,
      "author": {
        "id": 1306837
      },
      "writtenOn": "2019-11-12T06:29:14Z",
      "side": 1,
      "message": "IIUC you want to remove this",
      "range": {
        "startLine": 6424,
        "startChar": 47,
        "endLine": 6424,
        "endChar": 67
      },
      "revId": "261a019c9d8afa4ea722b36bed85b74195263af1",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "04492a91_42054d99",
        "filename": "services/core/java/com/android/server/ConnectivityService.java",
        "patchSetId": 2
      },
      "lineNbr": 6424,
      "author": {
        "id": 1015428
      },
      "writtenOn": "2019-11-19T08:02:14Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4623dfb7_f08a8a2a",
      "range": {
        "startLine": 6424,
        "startChar": 47,
        "endLine": 6424,
        "endChar": 67
      },
      "revId": "261a019c9d8afa4ea722b36bed85b74195263af1",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}