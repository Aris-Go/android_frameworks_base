{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "b70f8c6d_9e465848",
        "filename": "services/core/java/com/android/server/policy/PhoneWindowManager.java",
        "patchSetId": 8
      },
      "lineNbr": 3664,
      "author": {
        "id": 1367175
      },
      "writtenOn": "2021-04-13T12:35:44Z",
      "side": 1,
      "message": "this seems break some behavior:\npress -\u003e wake device, press again -\u003e send to app or mGlobalKeyManager.\n\nI think this will just sending key up without down to the mGlobalKeyManager.\n\nmaybe create a special case (mGlobalKeyManager.shouldHandleWhenNonInteractive) in \u0027shouldDispatchInputWhenNonInteractive\u0027?",
      "range": {
        "startLine": 3664,
        "startChar": 0,
        "endLine": 3664,
        "endChar": 79
      },
      "revId": "e9b4aa6179b93238da4899b0fa96294ce8fd2eb9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b65f60d3_399c315c",
        "filename": "services/core/java/com/android/server/policy/PhoneWindowManager.java",
        "patchSetId": 8
      },
      "lineNbr": 3664,
      "author": {
        "id": 1359573
      },
      "writtenOn": "2021-04-14T06:33:37Z",
      "side": 1,
      "message": "when in interactive, behavior is as before,\npress global key , key down and up all send to Global Key Receiver to decide what to do  \n\nwhen Non interactive \n1. if the key is not a wake key, behavior is as before,\nany key will not send to app or Global Key Receiver \n\n2. if the key is wake key but not global key , behavior is as before,\npress -\u003e wake device,  press again (now it is interactive) -\u003e send to app\n\n3. if the key is wake key , also as global key\npress -\u003e wake device, key up also send to Global Key Receiver to decide what to do \npress again (now it is interactive) -\u003e key down and up all send to Global Key Receiver to decide what to do  \n\nonly impact Global Key ,but we can decide what to do in Global Key Receiver",
      "parentUuid": "b70f8c6d_9e465848",
      "range": {
        "startLine": 3664,
        "startChar": 0,
        "endLine": 3664,
        "endChar": 79
      },
      "revId": "e9b4aa6179b93238da4899b0fa96294ce8fd2eb9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7104569b_89318551",
        "filename": "services/core/java/com/android/server/policy/PhoneWindowManager.java",
        "patchSetId": 8
      },
      "lineNbr": 3664,
      "author": {
        "id": 1367175
      },
      "writtenOn": "2021-04-16T02:59:25Z",
      "side": 1,
      "message": "Yes, what I mean is assume we have Global keys A, B, and Netflix, they are all wake keys.\nThen we changed the behavior, send an up when press from non-interative, then maybe Netflix works fine but A, B key received the unexpected UP event without DOWN first, then some state broken.",
      "parentUuid": "b65f60d3_399c315c",
      "range": {
        "startLine": 3664,
        "startChar": 0,
        "endLine": 3664,
        "endChar": 79
      },
      "revId": "e9b4aa6179b93238da4899b0fa96294ce8fd2eb9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4c0a70bc_08d2d9c3",
        "filename": "services/core/java/com/android/server/policy/PhoneWindowManager.java",
        "patchSetId": 8
      },
      "lineNbr": 3664,
      "author": {
        "id": 1359573
      },
      "writtenOn": "2021-04-19T08:19:10Z",
      "side": 1,
      "message": "we need distinguish Global keys A, B, and  Global Netflix,\ncreate a special case (mGlobalKeyManager.shouldHandleWhenNonInteractive),\nhow to define this special key,\nhow about overlay in com.android.internal.R.xml.global_keysï¼Œ\nadd new element",
      "parentUuid": "7104569b_89318551",
      "range": {
        "startLine": 3664,
        "startChar": 0,
        "endLine": 3664,
        "endChar": 79
      },
      "revId": "e9b4aa6179b93238da4899b0fa96294ce8fd2eb9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "99a15e35_574e56e3",
        "filename": "services/core/java/com/android/server/policy/PhoneWindowManager.java",
        "patchSetId": 8
      },
      "lineNbr": 3664,
      "author": {
        "id": 1018324
      },
      "writtenOn": "2021-04-30T19:58:36Z",
      "side": 1,
      "message": "gentle ping,\nArthur, can you pls feedback to latest comment?\nthx",
      "parentUuid": "4c0a70bc_08d2d9c3",
      "range": {
        "startLine": 3664,
        "startChar": 0,
        "endLine": 3664,
        "endChar": 79
      },
      "revId": "e9b4aa6179b93238da4899b0fa96294ce8fd2eb9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0d539fd7_4d882f5a",
        "filename": "services/core/java/com/android/server/policy/PhoneWindowManager.java",
        "patchSetId": 8
      },
      "lineNbr": 3664,
      "author": {
        "id": 1608690
      },
      "writtenOn": "2021-04-30T20:05:18Z",
      "side": 1,
      "message": "We are working on this CL internally, by https://googleplex-android-review.git.corp.google.com/c/platform/frameworks/base/+/14264394. In short, the new proposal is to allow the global key handler to define which keys should be forwarded when device is waked up, and the wake up info will be in the broadcast.",
      "parentUuid": "99a15e35_574e56e3",
      "range": {
        "startLine": 3664,
        "startChar": 0,
        "endLine": 3664,
        "endChar": 79
      },
      "revId": "e9b4aa6179b93238da4899b0fa96294ce8fd2eb9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}