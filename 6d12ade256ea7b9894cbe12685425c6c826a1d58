{
  "comments": [
    {
      "key": {
        "uuid": "AAAAwX///8w\u003d",
        "filename": "core/java/android/text/format/DateUtils.java",
        "patchSetId": 3
      },
      "lineNbr": 535,
      "author": {
        "id": 1006166
      },
      "writtenOn": "2010-03-31T00:06:50Z",
      "side": 1,
      "message": "so i started thinking about this more, and it looks like the only reason you\u0027re using the Time object is to generate gmtoff.  disregarding edge cases like leap seconds, the two gmtoff values seem to cancel each other out.\n\nthis can be solved much more simply by using:\n\ncount \u003d Math.abs((date1 / DAY_IN_MILLIS) - (date2 / DAY_IN_MILLIS))\n\nwhich doesn\u0027t need a Time instance, and can done inline above, instead of breaking into this separate method.",
      "revId": "6d12ade256ea7b9894cbe12685425c6c826a1d58",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAwX///8g\u003d",
        "filename": "core/java/android/text/format/DateUtils.java",
        "patchSetId": 3
      },
      "lineNbr": 535,
      "author": {
        "id": 1003245
      },
      "writtenOn": "2010-03-31T00:46:04Z",
      "side": 1,
      "message": "I will do some tests to make sure that the divisions will not cause the issue that was generating this bug. It looks like it will work just fine :)",
      "parentUuid": "AAAAwX///8w\u003d",
      "revId": "6d12ade256ea7b9894cbe12685425c6c826a1d58",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAwX///8E\u003d",
        "filename": "core/java/android/text/format/DateUtils.java",
        "patchSetId": 3
      },
      "lineNbr": 535,
      "author": {
        "id": 1003245
      },
      "writtenOn": "2010-03-31T01:24:00Z",
      "side": 1,
      "message": "Hey Jeff,\n\nYour proposal generates the same effect of the original code version. The division for DAY_IN_MILLIS may generate a fraction part which would cause one day imprecision. Causing the error is easy, just tested a call on 25/03 at 22:50 and current time 30/11 at 21:00 would result in 4 days instead of 5. I understand your efforts not to use one more object, but avoiding this issues by using the Time class which already does the calculations right might worth here. So please consider keeping the latest patch set\n\nHope to hear from you...",
      "parentUuid": "AAAAwX///8w\u003d",
      "revId": "6d12ade256ea7b9894cbe12685425c6c826a1d58",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAwX///74\u003d",
        "filename": "core/java/android/text/format/DateUtils.java",
        "patchSetId": 3
      },
      "lineNbr": 535,
      "author": {
        "id": 1006166
      },
      "writtenOn": "2010-03-31T01:41:01Z",
      "side": 1,
      "message": "maybe im missing something, but Time.getJulianDay() seems to be doing exactly this internally?\n\n(millis + 0) / DateUtils.DAY_IN_MILLIS",
      "parentUuid": "AAAAwX///8E\u003d",
      "revId": "6d12ade256ea7b9894cbe12685425c6c826a1d58",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAwX///7I\u003d",
        "filename": "core/java/android/text/format/DateUtils.java",
        "patchSetId": 3
      },
      "lineNbr": 535,
      "author": {
        "id": 1003245
      },
      "writtenOn": "2010-03-31T16:19:38Z",
      "side": 1,
      "message": "Well It seams i missed something last time I tested your suggestion \u003d/ I rebuilt my sources with it once again and it works just fine! Clean and simple.",
      "parentUuid": "AAAAwX///74\u003d",
      "revId": "6d12ade256ea7b9894cbe12685425c6c826a1d58",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAwX///5E\u003d",
        "filename": "core/java/android/text/format/DateUtils.java",
        "patchSetId": 3
      },
      "lineNbr": 535,
      "author": {
        "id": 1003245
      },
      "writtenOn": "2010-04-01T01:44:32Z",
      "side": 1,
      "message": "Hey Jeff,\n\nI definitely have found the problem on our simpler solution. Not using the GMT offset on the Time.getJulianDay(date, gmtoff); method returns values that when subtracted will result in wrong days count. I have debuged using my local gmt and zero on the function parameter and using zero generates wrong values. I am really convinced that we should keep using the Time class now. How does it sound to you ?",
      "parentUuid": "AAAAwX///7I\u003d",
      "revId": "6d12ade256ea7b9894cbe12685425c6c826a1d58",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAwX///8s\u003d",
        "filename": "core/java/android/text/format/DateUtils.java",
        "patchSetId": 3
      },
      "lineNbr": 1680,
      "author": {
        "id": 1006166
      },
      "writtenOn": "2010-03-31T00:06:50Z",
      "side": 1,
      "message": "thanks for catching this synchronization-- to minimize the code change could you add it to the method signature instead of this inline block?",
      "revId": "6d12ade256ea7b9894cbe12685425c6c826a1d58",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAwX///8c\u003d",
        "filename": "core/java/android/text/format/DateUtils.java",
        "patchSetId": 3
      },
      "lineNbr": 1680,
      "author": {
        "id": 1003245
      },
      "writtenOn": "2010-03-31T00:46:04Z",
      "side": 1,
      "message": "I have done what you are suggesting but it caused a compilation message about updating the API. I was not sure about this API change process and what impacts it could cause so I just synchronized the code internally. Any thoughts ?",
      "parentUuid": "AAAAwX///8s\u003d",
      "revId": "6d12ade256ea7b9894cbe12685425c6c826a1d58",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAAwX///8U\u003d",
        "filename": "core/java/android/text/format/DateUtils.java",
        "patchSetId": 3
      },
      "lineNbr": 1680,
      "author": {
        "id": 1006166
      },
      "writtenOn": "2010-03-31T00:48:59Z",
      "side": 1,
      "message": "doh, sorry about that.  feel free to keep the synchronized block inline here so it doesn\u0027t change the public API.",
      "parentUuid": "AAAAwX///8c\u003d",
      "revId": "6d12ade256ea7b9894cbe12685425c6c826a1d58",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}