{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "dd6848e9_ac7ccbe8",
        "filename": "media/aidl/android/media/audio/common/AudioHalAttributesGroup.aidl",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 1491204
      },
      "writtenOn": "2022-09-19T12:49:26Z",
      "side": 1,
      "message": "@Eric: as for this CL: https://partner-android-review.googlesource.com/c/platform/frameworks/av/+/2188019/\n\nshall we rename instead AudioHalVolumeGroupAttributes?",
      "range": {
        "startLine": 29,
        "startChar": 11,
        "endLine": 29,
        "endChar": 34
      },
      "revId": "06d964e4a7199c748fe9fcb409d9530624df3b91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "963bd300_fb3ced7c",
        "filename": "media/aidl/android/media/audio/common/AudioHalAttributesGroup.aidl",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 1491204
      },
      "writtenOn": "2022-09-27T14:19:11Z",
      "side": 1,
      "message": "Not exactly matching with VolumeGroupAttributes, forget my comment",
      "parentUuid": "dd6848e9_ac7ccbe8",
      "range": {
        "startLine": 29,
        "startChar": 11,
        "endLine": 29,
        "endChar": 34
      },
      "revId": "06d964e4a7199c748fe9fcb409d9530624df3b91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ddbb219d_15330430",
        "filename": "media/aidl/android/media/audio/common/AudioHalAttributesGroup.aidl",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 1945984
      },
      "writtenOn": "2022-09-30T05:39:33Z",
      "side": 1,
      "message": "As you said, these classes represent information in different formats (AudioHalAttributesGroup contains a vector of attributes, while VolumeGroupAttributes only contains one set of attributes). We should not use the same name; otherwise, the concepts become convoluted.",
      "parentUuid": "dd6848e9_ac7ccbe8",
      "range": {
        "startLine": 29,
        "startChar": 11,
        "endLine": 29,
        "endChar": 34
      },
      "revId": "06d964e4a7199c748fe9fcb409d9530624df3b91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7a26a6b0_c6cdf785",
        "filename": "media/aidl/android/media/audio/common/AudioHalAttributesGroup.aidl",
        "patchSetId": 1
      },
      "lineNbr": 30,
      "author": {
        "id": 1491204
      },
      "writtenOn": "2022-09-19T12:49:26Z",
      "side": 1,
      "message": "shall we add a comment to specify that the stream type is allowed to be invalid if the volume group attributes are not associated to any legacy stream?",
      "range": {
        "startLine": 30,
        "startChar": 4,
        "endLine": 30,
        "endChar": 57
      },
      "revId": "06d964e4a7199c748fe9fcb409d9530624df3b91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c3f7b9ca_0a5491c2",
        "filename": "media/aidl/android/media/audio/common/AudioHalAttributesGroup.aidl",
        "patchSetId": 1
      },
      "lineNbr": 30,
      "author": {
        "id": 1945984
      },
      "writtenOn": "2022-09-30T05:39:33Z",
      "side": 1,
      "message": "Done.",
      "parentUuid": "7a26a6b0_c6cdf785",
      "range": {
        "startLine": 30,
        "startChar": 4,
        "endLine": 30,
        "endChar": 57
      },
      "revId": "06d964e4a7199c748fe9fcb409d9530624df3b91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0561f60f_88dd23e7",
        "filename": "media/aidl/android/media/audio/common/AudioHalCapCriterion.aidl",
        "patchSetId": 1
      },
      "lineNbr": 33,
      "author": {
        "id": 1042638
      },
      "writtenOn": "2022-09-16T20:46:37Z",
      "side": 1,
      "message": "This should have some doc which explains what \"literal\" is used for.",
      "range": {
        "startLine": 33,
        "startChar": 22,
        "endLine": 33,
        "endChar": 41
      },
      "revId": "06d964e4a7199c748fe9fcb409d9530624df3b91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c67e5ea7_932400c6",
        "filename": "media/aidl/android/media/audio/common/AudioHalCapCriterion.aidl",
        "patchSetId": 1
      },
      "lineNbr": 33,
      "author": {
        "id": 1491204
      },
      "writtenOn": "2022-09-19T12:31:29Z",
      "side": 1,
      "message": "agree:\nLiteral value is the literal value that was chosen for a given Criterion type numerical value. Need also to document that \"none\" is a specific keyword for inclusive aka bitfield",
      "parentUuid": "0561f60f_88dd23e7",
      "range": {
        "startLine": 33,
        "startChar": 22,
        "endLine": 33,
        "endChar": 41
      },
      "revId": "06d964e4a7199c748fe9fcb409d9530624df3b91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "85b785b5_aa6d2d89",
        "filename": "media/aidl/android/media/audio/common/AudioHalCapCriterion.aidl",
        "patchSetId": 1
      },
      "lineNbr": 33,
      "author": {
        "id": 1945984
      },
      "writtenOn": "2022-09-30T05:39:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c67e5ea7_932400c6",
      "range": {
        "startLine": 33,
        "startChar": 22,
        "endLine": 33,
        "endChar": 41
      },
      "revId": "06d964e4a7199c748fe9fcb409d9530624df3b91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "08444d4e_12329ba2",
        "filename": "media/aidl/android/media/audio/common/AudioHalCapCriterionType.aidl",
        "patchSetId": 1
      },
      "lineNbr": 46,
      "author": {
        "id": 1042638
      },
      "writtenOn": "2022-09-16T20:46:37Z",
      "side": 1,
      "message": "AudioDeviceType can\u0027t be used on its own, because it can\u0027t unambiguously specify the type of the device, please see https://cs.android.com/android/platform/superproject/+/master:frameworks/base/media/aidl/android/media/audio/common/AudioDeviceType.aidl;l\u003d20;drc\u003d277373ea256f9151752c8582e3bef0d005bc8c12. Instead, we must use https://cs.android.com/android/platform/superproject/+/master:frameworks/base/media/aidl/android/media/audio/common/AudioDeviceDescription.aidl.",
      "range": {
        "startLine": 46,
        "startChar": 0,
        "endLine": 46,
        "endChar": 53
      },
      "revId": "06d964e4a7199c748fe9fcb409d9530624df3b91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "604dc4c1_3681de2c",
        "filename": "media/aidl/android/media/audio/common/AudioHalCapCriterionType.aidl",
        "patchSetId": 1
      },
      "lineNbr": 46,
      "author": {
        "id": 1491204
      },
      "writtenOn": "2022-09-19T12:04:32Z",
      "side": 1,
      "message": "androidType or androidNumericalType (Device is just one of the criterion type for which this field is used, we may not infer here)",
      "range": {
        "startLine": 43,
        "startChar": 8,
        "endLine": 46,
        "endChar": 53
      },
      "revId": "06d964e4a7199c748fe9fcb409d9530624df3b91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0ddd5685_844d6ae7",
        "filename": "media/aidl/android/media/audio/common/AudioHalCapCriterionType.aidl",
        "patchSetId": 1
      },
      "lineNbr": 46,
      "author": {
        "id": 1491204
      },
      "writtenOn": "2022-09-19T12:09:34Z",
      "side": 1,
      "message": "And lets rephrase to generic comment\n\"map to a numerical bitfield representation a numerical value",
      "parentUuid": "604dc4c1_3681de2c",
      "range": {
        "startLine": 43,
        "startChar": 8,
        "endLine": 46,
        "endChar": 53
      },
      "revId": "06d964e4a7199c748fe9fcb409d9530624df3b91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5207f2b3_8997dcb2",
        "filename": "media/aidl/android/media/audio/common/AudioHalCapCriterionType.aidl",
        "patchSetId": 1
      },
      "lineNbr": 46,
      "author": {
        "id": 1491204
      },
      "writtenOn": "2022-09-27T14:19:11Z",
      "side": 1,
      "message": "As discussed, We will need only the string representation, and even only addresses criterion types will be required.\nDevices, mode and force usages are strings comming from AOSP, not from HAL",
      "parentUuid": "0ddd5685_844d6ae7",
      "range": {
        "startLine": 43,
        "startChar": 8,
        "endLine": 46,
        "endChar": 53
      },
      "revId": "06d964e4a7199c748fe9fcb409d9530624df3b91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "02bfabee_b8661795",
        "filename": "media/aidl/android/media/audio/common/AudioHalCapCriterionType.aidl",
        "patchSetId": 1
      },
      "lineNbr": 46,
      "author": {
        "id": 1945984
      },
      "writtenOn": "2022-09-30T05:39:33Z",
      "side": 1,
      "message": "After talking to Francois, the int and long representations of a ValuePair will be getting removed anyway.",
      "parentUuid": "08444d4e_12329ba2",
      "range": {
        "startLine": 46,
        "startChar": 0,
        "endLine": 46,
        "endChar": 53
      },
      "revId": "06d964e4a7199c748fe9fcb409d9530624df3b91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ac07d6bf_3f192d99",
        "filename": "media/aidl/android/media/audio/common/AudioHalCapCriterionType.aidl",
        "patchSetId": 1
      },
      "lineNbr": 46,
      "author": {
        "id": 1945984
      },
      "writtenOn": "2022-09-30T05:39:33Z",
      "side": 1,
      "message": "Thanks for the follow-up! I removed the 64 bit and 32 bit representations of a valuePair-- as you said, only the string literal representation is required now.\n\nI don\u0027t want to add a comment that says \"Criteria are only used for device addresses\" in case you later choose to add new criteria in the future; this probably shouldn\u0027t call for a version bump to the HAL interface. Thanks!",
      "parentUuid": "0ddd5685_844d6ae7",
      "range": {
        "startLine": 43,
        "startChar": 8,
        "endLine": 46,
        "endChar": 53
      },
      "revId": "06d964e4a7199c748fe9fcb409d9530624df3b91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1d30d978_c860b53d",
        "filename": "media/aidl/android/media/audio/common/AudioHalEngineConfig.aidl",
        "patchSetId": 1
      },
      "lineNbr": 60,
      "author": {
        "id": 1042638
      },
      "writtenOn": "2022-09-16T20:46:37Z",
      "side": 1,
      "message": "We usually provide strict requirements for HAL implementors. In this case we need to say \"if isEngineConfigurable is false this field must be empty\", and enforce that in VTS.\n\nAnd this raises the question—if there are two fields that are ganged, do we really need to have both of them?",
      "range": {
        "startLine": 58,
        "startChar": 21,
        "endLine": 60,
        "endChar": 26
      },
      "revId": "06d964e4a7199c748fe9fcb409d9530624df3b91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6b872535_33fb663f",
        "filename": "media/aidl/android/media/audio/common/AudioHalEngineConfig.aidl",
        "patchSetId": 1
      },
      "lineNbr": 60,
      "author": {
        "id": 1945984
      },
      "writtenOn": "2022-09-30T05:39:33Z",
      "side": 1,
      "message": "I thought about it, and you\u0027re right -- an explicit isEngineConfigurable is overkill. Use of std::optional is sufficient; i.e. if CAP developers were to choose to support startup with an empty config (unlikely as the foundation of the parameter framework relies on criteria provided in the configuration, but thought I should address this concern for reviewers that aren\u0027t as familiar with CAP), @nullable (which is converted to std::optional in C++) allows them to differentiate between an empty config and a non-existent capConfig. Non-existent capConfig implies use of the default engine.",
      "parentUuid": "1d30d978_c860b53d",
      "range": {
        "startLine": 58,
        "startChar": 21,
        "endLine": 60,
        "endChar": 26
      },
      "revId": "06d964e4a7199c748fe9fcb409d9530624df3b91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "30262967_9a1b1d7d",
        "filename": "media/aidl/android/media/audio/common/AudioHalProductStrategy.aidl",
        "patchSetId": 1
      },
      "lineNbr": 47,
      "author": {
        "id": 1042638
      },
      "writtenOn": "2022-09-16T20:46:37Z",
      "side": 1,
      "message": "Should or must? We need to specify that for sure because we need to validate this in VTS.",
      "range": {
        "startLine": 47,
        "startChar": 74,
        "endLine": 47,
        "endChar": 80
      },
      "revId": "06d964e4a7199c748fe9fcb409d9530624df3b91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f71a15f5_f0f2453d",
        "filename": "media/aidl/android/media/audio/common/AudioHalProductStrategy.aidl",
        "patchSetId": 1
      },
      "lineNbr": 47,
      "author": {
        "id": 1945984
      },
      "writtenOn": "2022-09-30T05:39:33Z",
      "side": 1,
      "message": "Per discussion with Francois, there is no need for a human-readable representation of a strategy to be passed through AIDL interface. We shall use an enum and map it to a human readable string in the source code.",
      "parentUuid": "30262967_9a1b1d7d",
      "range": {
        "startLine": 47,
        "startChar": 74,
        "endLine": 47,
        "endChar": 80
      },
      "revId": "06d964e4a7199c748fe9fcb409d9530624df3b91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "72356d86_2d253148",
        "filename": "media/aidl/android/media/audio/common/AudioHalProductStrategy.aidl",
        "patchSetId": 1
      },
      "lineNbr": 50,
      "author": {
        "id": 1491204
      },
      "writtenOn": "2022-09-19T12:31:29Z",
      "side": 1,
      "message": "@eric: did you make up your mind according to the naming? shall we use VX_STRATEGY_\u003cNAME\u003e for example in order to at least enforce the naming?",
      "range": {
        "startLine": 48,
        "startChar": 0,
        "endLine": 50,
        "endChar": 33
      },
      "revId": "06d964e4a7199c748fe9fcb409d9530624df3b91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d3dd23de_69d6ede4",
        "filename": "media/aidl/android/media/audio/common/AudioHalProductStrategy.aidl",
        "patchSetId": 1
      },
      "lineNbr": 50,
      "author": {
        "id": 1491204
      },
      "writtenOn": "2022-09-19T13:05:15Z",
      "side": 1,
      "message": "also using VW_STRATEGY_\u003c1..N\u003e would allow to provide a generic structure for engine parameter framework, and would solve my current issue!",
      "parentUuid": "72356d86_2d253148",
      "range": {
        "startLine": 48,
        "startChar": 0,
        "endLine": 50,
        "endChar": 33
      },
      "revId": "06d964e4a7199c748fe9fcb409d9530624df3b91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a78ecdcd_9a652839",
        "filename": "media/aidl/android/media/audio/common/AudioHalProductStrategy.aidl",
        "patchSetId": 1
      },
      "lineNbr": 50,
      "author": {
        "id": 1491204
      },
      "writtenOn": "2022-09-27T14:19:11Z",
      "side": 1,
      "message": "As discussed yesterday, we can use a \"nice\" human readable string here, associated with an id, that will be used in VX_STRATEGY_\u003cid\u003e for predefined parameters.\n\nId of legacy would remains as today (0 ..X), VX could start from 1000 (as done for input sources for example, starting from 1997)",
      "parentUuid": "d3dd23de_69d6ede4",
      "range": {
        "startLine": 48,
        "startChar": 0,
        "endLine": 50,
        "endChar": 33
      },
      "revId": "06d964e4a7199c748fe9fcb409d9530624df3b91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1caa003f_3b9b9ce8",
        "filename": "media/aidl/android/media/audio/common/AudioHalProductStrategy.aidl",
        "patchSetId": 1
      },
      "lineNbr": 50,
      "author": {
        "id": 1945984
      },
      "writtenOn": "2022-09-30T05:39:33Z",
      "side": 1,
      "message": "Just to clarify, I think we agreed to use an enum to represent the strategies at the AIDL interface. The human readable representation will be defined in the engine source code. Vendor strategies shall begin with the number 1000.\n\nPlease correct me if there is a misunderstanding. Thanks!",
      "parentUuid": "d3dd23de_69d6ede4",
      "range": {
        "startLine": 48,
        "startChar": 0,
        "endLine": 50,
        "endChar": 33
      },
      "revId": "06d964e4a7199c748fe9fcb409d9530624df3b91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "85e21398_4a89e00c",
        "filename": "media/aidl/android/media/audio/common/AudioHalVolumeCurve.aidl",
        "patchSetId": 1
      },
      "lineNbr": 30,
      "author": {
        "id": 1042638
      },
      "writtenOn": "2022-09-16T20:46:37Z",
      "side": 1,
      "message": "Do we need to define constants for them?",
      "range": {
        "startLine": 28,
        "startChar": 8,
        "endLine": 30,
        "endChar": 37
      },
      "revId": "06d964e4a7199c748fe9fcb409d9530624df3b91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "76367931_650043d5",
        "filename": "media/aidl/android/media/audio/common/AudioHalVolumeCurve.aidl",
        "patchSetId": 1
      },
      "lineNbr": 30,
      "author": {
        "id": 1945984
      },
      "writtenOn": "2022-09-30T05:39:33Z",
      "side": 1,
      "message": "Sure; we can represent these as enums as they are not vendor extensible. Thank you!",
      "parentUuid": "85e21398_4a89e00c",
      "range": {
        "startLine": 28,
        "startChar": 8,
        "endLine": 30,
        "endChar": 37
      },
      "revId": "06d964e4a7199c748fe9fcb409d9530624df3b91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "005d49db_b39a3bdc",
        "filename": "media/aidl/android/media/audio/common/AudioHalVolumeGroup.aidl",
        "patchSetId": 1
      },
      "lineNbr": 36,
      "author": {
        "id": 1042638
      },
      "writtenOn": "2022-09-16T20:46:37Z",
      "side": 1,
      "message": "We need to state that min \u003c\u003d max. Or \u003c ?",
      "range": {
        "startLine": 35,
        "startChar": 0,
        "endLine": 36,
        "endChar": 28
      },
      "revId": "06d964e4a7199c748fe9fcb409d9530624df3b91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6164ee60_876d68c7",
        "filename": "media/aidl/android/media/audio/common/AudioHalVolumeGroup.aidl",
        "patchSetId": 1
      },
      "lineNbr": 36,
      "author": {
        "id": 1945984
      },
      "writtenOn": "2022-09-30T05:39:33Z",
      "side": 1,
      "message": "It appears that we allow min \u003c\u003d max.\n\nE.g. here, we handle the case where they are equal.\nhttps://cs.android.com/android/platform/superproject/+/master:frameworks/av/services/audiopolicy/engine/common/src/VolumeCurve.cpp;l\u003d50;drc\u003dce9f217c09cec93ac2fd1279d8194fd1f59d14bc",
      "parentUuid": "005d49db_b39a3bdc",
      "range": {
        "startLine": 35,
        "startChar": 0,
        "endLine": 36,
        "endChar": 28
      },
      "revId": "06d964e4a7199c748fe9fcb409d9530624df3b91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0b214d03_d9077998",
        "filename": "media/aidl/android/media/audio/common/AudioHalVolumeGroup.aidl",
        "patchSetId": 1
      },
      "lineNbr": 46,
      "author": {
        "id": 1042638
      },
      "writtenOn": "2022-09-16T20:46:37Z",
      "side": 1,
      "message": "We need to specify how this mapping is implemented. Where are device categories defined?",
      "range": {
        "startLine": 46,
        "startChar": 16,
        "endLine": 46,
        "endChar": 33
      },
      "revId": "06d964e4a7199c748fe9fcb409d9530624df3b91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c0157cff_ea353ccc",
        "filename": "media/aidl/android/media/audio/common/AudioHalVolumeGroup.aidl",
        "patchSetId": 1
      },
      "lineNbr": 46,
      "author": {
        "id": 1945984
      },
      "writtenOn": "2022-09-30T05:39:33Z",
      "side": 1,
      "message": "An AudioHalVolumeCurve contains a field for deviceCategory. Added that to the comment. Thank you!",
      "parentUuid": "0b214d03_d9077998",
      "range": {
        "startLine": 46,
        "startChar": 16,
        "endLine": 46,
        "endChar": 33
      },
      "revId": "06d964e4a7199c748fe9fcb409d9530624df3b91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}