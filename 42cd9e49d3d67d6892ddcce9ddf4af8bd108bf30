{
  "comments": [
    {
      "key": {
        "uuid": "3d1d966f_e47796a7",
        "filename": "core/java/android/bluetooth/BluetoothHidDevice.java",
        "patchSetId": 8
      },
      "lineNbr": 349,
      "author": {
        "id": 1121403
      },
      "writtenOn": "2017-11-15T23:52:59Z",
      "side": 1,
      "message": "How do we prevent an App from holding the global lock of HidDevice as a background service? A rouge App may never release this registration in order to prevent other Apps from using HidDevice profile. Maybe we should unregister App that are no longer in foreground or not active for a certain period of time.",
      "range": {
        "startLine": 348,
        "startChar": 46,
        "endLine": 349,
        "endChar": 35
      },
      "revId": "42cd9e49d3d67d6892ddcce9ddf4af8bd108bf30",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "009252dc_3f9b1ff3",
        "filename": "core/java/android/bluetooth/BluetoothHidDevice.java",
        "patchSetId": 8
      },
      "lineNbr": 349,
      "author": {
        "id": 1086529
      },
      "writtenOn": "2017-11-16T09:37:02Z",
      "side": 1,
      "message": "You do have a point, although in my personal experience (i.e. as a user) it was sometimes quite helpful to have a registered (and connected) app in the background.\nFor an app that is registered, but not connected â€” there\u0027s probably not as much sense to keep it. Although, if it gets crashed or OOM-evicted, it will be unregistered automatically.",
      "parentUuid": "3d1d966f_e47796a7",
      "range": {
        "startLine": 348,
        "startChar": 46,
        "endLine": 349,
        "endChar": 35
      },
      "revId": "42cd9e49d3d67d6892ddcce9ddf4af8bd108bf30",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f280d636_3765e4d7",
        "filename": "core/java/android/bluetooth/BluetoothHidDevice.java",
        "patchSetId": 8
      },
      "lineNbr": 349,
      "author": {
        "id": 1220282
      },
      "writtenOn": "2017-11-21T17:33:19Z",
      "side": 1,
      "message": "You mean, we can set a timeout, after which the app will be unregistered if not connected?\n\nWe can add an explicit Unregister button in Settings also, and we want to let user know the HID Device mode is on?",
      "parentUuid": "009252dc_3f9b1ff3",
      "range": {
        "startLine": 348,
        "startChar": 46,
        "endLine": 349,
        "endChar": 35
      },
      "revId": "42cd9e49d3d67d6892ddcce9ddf4af8bd108bf30",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8532d524_a1bf7475",
        "filename": "core/java/android/bluetooth/BluetoothHidDevice.java",
        "patchSetId": 8
      },
      "lineNbr": 370,
      "author": {
        "id": 1220282
      },
      "writtenOn": "2017-11-21T17:33:19Z",
      "side": 1,
      "message": "Enforce it in HID Device service?",
      "range": {
        "startLine": 367,
        "startChar": 8,
        "endLine": 370,
        "endChar": 0
      },
      "revId": "42cd9e49d3d67d6892ddcce9ddf4af8bd108bf30",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d96a83c5_ca78bc8c",
        "filename": "core/java/android/bluetooth/BluetoothHidDevice.java",
        "patchSetId": 8
      },
      "lineNbr": 429,
      "author": {
        "id": 1220282
      },
      "writtenOn": "2017-11-22T01:01:45Z",
      "side": 1,
      "message": "Also, an app can use other app\u0027s registration and device (HID Device service) and send data, without any other app\u0027s permission!",
      "range": {
        "startLine": 429,
        "startChar": 4,
        "endLine": 429,
        "endChar": 74
      },
      "revId": "42cd9e49d3d67d6892ddcce9ddf4af8bd108bf30",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d74b2e5b_8d925162",
        "filename": "core/java/android/bluetooth/BluetoothHidDevice.java",
        "patchSetId": 8
      },
      "lineNbr": 505,
      "author": {
        "id": 1220282
      },
      "writtenOn": "2017-11-16T01:04:56Z",
      "side": 1,
      "message": "I don\u0027t want to open this API to app.",
      "range": {
        "startLine": 500,
        "startChar": 4,
        "endLine": 505,
        "endChar": 51
      },
      "revId": "42cd9e49d3d67d6892ddcce9ddf4af8bd108bf30",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d07ed657_86552bde",
        "filename": "core/java/android/bluetooth/BluetoothHidDevice.java",
        "patchSetId": 8
      },
      "lineNbr": 530,
      "author": {
        "id": 1121403
      },
      "writtenOn": "2017-11-15T23:52:59Z",
      "side": 1,
      "message": "What does it mean by connect here? If there is no App registered, should connect fail? Should an App register then connect?",
      "range": {
        "startLine": 529,
        "startChar": 7,
        "endLine": 530,
        "endChar": 25
      },
      "revId": "42cd9e49d3d67d6892ddcce9ddf4af8bd108bf30",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b51582a7_dc5db398",
        "filename": "core/java/android/bluetooth/BluetoothHidDevice.java",
        "patchSetId": 8
      },
      "lineNbr": 530,
      "author": {
        "id": 1086529
      },
      "writtenOn": "2017-11-16T09:37:02Z",
      "side": 1,
      "message": "Yes, app should be registered before connecting.\nYes, connect() will fail otherwise.",
      "parentUuid": "d07ed657_86552bde",
      "range": {
        "startLine": 529,
        "startChar": 7,
        "endLine": 530,
        "endChar": 25
      },
      "revId": "42cd9e49d3d67d6892ddcce9ddf4af8bd108bf30",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4ee836db_a455cfd1",
        "filename": "core/java/android/bluetooth/BluetoothHidDeviceCallback.java",
        "patchSetId": 8
      },
      "lineNbr": 28,
      "author": {
        "id": 1220282
      },
      "writtenOn": "2017-11-22T22:18:43Z",
      "side": 1,
      "message": "What if blocking method in callback function?\nMust let the application use its own handler thread. Not in HidDeviceService main thread/handler thread!",
      "range": {
        "startLine": 28,
        "startChar": 0,
        "endLine": 28,
        "endChar": 50
      },
      "revId": "42cd9e49d3d67d6892ddcce9ddf4af8bd108bf30",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}