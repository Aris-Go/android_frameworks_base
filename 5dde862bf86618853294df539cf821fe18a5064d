{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "cc49c4e7_27314717",
        "filename": "telephony/java/android/telephony/PhysicalChannelConfig.java",
        "patchSetId": 4
      },
      "lineNbr": 327,
      "author": {
        "id": 1124543
      },
      "writtenOn": "2021-03-19T01:44:22Z",
      "side": 1,
      "message": "This is fairly far away from the ctor and builder and it\u0027s trying to copy every single field manually. I\u0027d imagine it\u0027ll be pretty easy for somebody to add a new field to the builder and instance variables but forget to copy it here, particularly since this may or may not be used when returning values to apps.\n\nA couple options we could do to avoid that:\n1. Instead of returning a copy, just set mPhysicalCellId \u003d PHYSICAL_CELL_ID_UNKNOWN on this instance, make this method void\n2. If we can\u0027t edit this exact instance and must make a copy, add an @hide Builder(PhysicalChannelConfig) copy ctor to the builder, then add a Builder#clearPhysicalCellId method. Then this method can just be `return new Builder(this).clearPhysicalCellId().build()`.",
      "range": {
        "startLine": 317,
        "startChar": 8,
        "endLine": 327,
        "endChar": 25
      },
      "revId": "5dde862bf86618853294df539cf821fe18a5064d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9ee27cc7_8899a6a9",
        "filename": "telephony/java/android/telephony/PhysicalChannelConfig.java",
        "patchSetId": 4
      },
      "lineNbr": 327,
      "author": {
        "id": 1060151
      },
      "writtenOn": "2021-03-19T16:48:35Z",
      "side": 1,
      "message": "While it\u0027s not necessarily a baseline for \"best practice\", there is a pattern established in CellIdentity. At least it\u0027s prior art to which we can look.",
      "parentUuid": "cc49c4e7_27314717",
      "range": {
        "startLine": 317,
        "startChar": 8,
        "endLine": 327,
        "endChar": 25
      },
      "revId": "5dde862bf86618853294df539cf821fe18a5064d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "24cf90e8_cc1ac92b",
        "filename": "telephony/java/android/telephony/PhysicalChannelConfig.java",
        "patchSetId": 4
      },
      "lineNbr": 327,
      "author": {
        "id": 1609802
      },
      "writtenOn": "2021-03-19T19:13:05Z",
      "side": 1,
      "message": "We want to a copy of the object, with two reasons:\n1. The sanitized config list will be a copy list of original configs which should not be polluted.\n2. PhysicalChannelConfig is designed as an effective immutable class. We don\u0027t want to break it.\n\nMost other class use ctor with train parameters to construct the new object. But since we already have builder, it is really not a choice.\n\nHunter\u0027s idea for the copy ctor Builder(config) is great. It almost keep all current benefit. We don\u0027t even need to introduce clearPhysicalCellId, since the Builder has setXXX methods already.\n\nThanks",
      "parentUuid": "9ee27cc7_8899a6a9",
      "range": {
        "startLine": 317,
        "startChar": 8,
        "endLine": 327,
        "endChar": 25
      },
      "revId": "5dde862bf86618853294df539cf821fe18a5064d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}