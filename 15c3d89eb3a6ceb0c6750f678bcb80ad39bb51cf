{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "31220751_ae7623ec",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1304263
      },
      "writtenOn": "2023-11-20T07:56:38Z",
      "side": 1,
      "message": "You may want to also set up the TEST_MAPPING in frameworks/base/services/core/java/com/android/server/connectivity/TEST_MAPPING to also run this specific test for those changes on VPN related files. Otherwise, your change won\u0027t run the expected tests in presubmit.",
      "revId": "15c3d89eb3a6ceb0c6750f678bcb80ad39bb51cf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8f8aa1b4_f00f2e79",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1966927
      },
      "writtenOn": "2023-12-01T13:11:23Z",
      "side": 1,
      "message": "File moved to frameworks/base/core/java/com/android/internal/net.\n\nI believe the test will run in presubmit anyways since the main TEST_MAPPING at frameworks/base/TEST_MAPPING covers everything (?) and runs FrameworksServiceTests and FrameworksCoreTests. \n\nNote the test is now in core/tests/coretests/src/com/android/internal/net/ which is included in FrameworksCoreTests.\n\nAdded a TEST_MAPPING file anyways.",
      "parentUuid": "31220751_ae7623ec",
      "revId": "15c3d89eb3a6ceb0c6750f678bcb80ad39bb51cf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a5987ded_34822d90",
        "filename": "services/core/java/com/android/server/connectivity/VpnBlobStore.java",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 1882601
      },
      "writtenOn": "2023-11-20T21:49:08Z",
      "side": 1,
      "message": "Just to check, is this file meant to be VPN-specific, or shared between VPN and Wifi?\n\nIf it\u0027s shared, I\u0027m wondering if we should update the name to something like `ConnectivityBlobStore`. Like we do in the exiting LegacyKeystore ([example](https://source.corp.google.com/h/googleplex-android/platform/frameworks/base/+/main:wifi/java/src/android/net/wifi/WifiKeystore.java;drc\u003de9d36a82494ebdd323e6cab6961b04b7d917d781;l\u003d55)), we could use the caller\u0027s UID to indicate the namespace.",
      "range": {
        "startLine": 29,
        "startChar": 13,
        "endLine": 29,
        "endChar": 25
      },
      "revId": "15c3d89eb3a6ceb0c6750f678bcb80ad39bb51cf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e9d22baa_2baef721",
        "filename": "services/core/java/com/android/server/connectivity/VpnBlobStore.java",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 1966927
      },
      "writtenOn": "2023-12-01T13:11:23Z",
      "side": 1,
      "message": "Initially I thought this would be VPN-specific, but as I followed the schema from keystore, this can actually be shared as you mentioned.\n\nUpdated the name to `ConnectivityBlobStore`.",
      "parentUuid": "a5987ded_34822d90",
      "range": {
        "startLine": 29,
        "startChar": 13,
        "endLine": 29,
        "endChar": 25
      },
      "revId": "15c3d89eb3a6ceb0c6750f678bcb80ad39bb51cf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b3d209aa_2c1a5002",
        "filename": "services/core/java/com/android/server/connectivity/VpnBlobStore.java",
        "patchSetId": 1
      },
      "lineNbr": 57,
      "author": {
        "id": 1857230
      },
      "writtenOn": "2023-11-23T11:22:21Z",
      "side": 1,
      "message": "Can I ask, when you upgrade are you deleting the old table and making a new one? Is that the right behavior?",
      "range": {
        "startLine": 57,
        "startChar": 20,
        "endLine": 57,
        "endChar": 29
      },
      "revId": "15c3d89eb3a6ceb0c6750f678bcb80ad39bb51cf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2f65546f_e209dea0",
        "filename": "services/core/java/com/android/server/connectivity/VpnBlobStore.java",
        "patchSetId": 1
      },
      "lineNbr": 57,
      "author": {
        "id": 1966927
      },
      "writtenOn": "2023-12-01T13:11:23Z",
      "side": 1,
      "message": "IIUC, onUpgrade/onDowngrade is called if the SCHEMA_VERSION !\u003d the version in the existing database. So in the case of an upgrade, before the SCHEMA_VERSION is updated to 2, this method should be updated to do the appropriate things.\n\nThe implementation now should not matter. That being the case, it is still concerning if the database gets deleted unexpectedly.\n\nRemoved all DROP_TABLE and simply Log.wtf instead.",
      "parentUuid": "b3d209aa_2c1a5002",
      "range": {
        "startLine": 57,
        "startChar": 20,
        "endLine": 57,
        "endChar": 29
      },
      "revId": "15c3d89eb3a6ceb0c6750f678bcb80ad39bb51cf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4645603b_35086e8e",
        "filename": "services/core/java/com/android/server/connectivity/VpnBlobStore.java",
        "patchSetId": 1
      },
      "lineNbr": 61,
      "author": {
        "id": 1882601
      },
      "writtenOn": "2023-11-20T21:49:08Z",
      "side": 1,
      "message": "Since this method is not implemented, I\u0027m wondering if we should leave the body empty.\n\nIf someone were to call this accidentally, the current implementation would clear all of the data.",
      "range": {
        "startLine": 60,
        "startChar": 12,
        "endLine": 61,
        "endChar": 25
      },
      "revId": "15c3d89eb3a6ceb0c6750f678bcb80ad39bb51cf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "abc3597c_f4276dad",
        "filename": "services/core/java/com/android/server/connectivity/VpnBlobStore.java",
        "patchSetId": 1
      },
      "lineNbr": 61,
      "author": {
        "id": 1966927
      },
      "writtenOn": "2023-12-01T13:11:23Z",
      "side": 1,
      "message": "Done.\n\nUpdated to Log.wtf.",
      "parentUuid": "4645603b_35086e8e",
      "range": {
        "startLine": 60,
        "startChar": 12,
        "endLine": 61,
        "endChar": 25
      },
      "revId": "15c3d89eb3a6ceb0c6750f678bcb80ad39bb51cf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "311b5430_971a6e6c",
        "filename": "services/core/java/com/android/server/connectivity/VpnBlobStore.java",
        "patchSetId": 1
      },
      "lineNbr": 74,
      "author": {
        "id": 1882601
      },
      "writtenOn": "2023-11-20T21:49:08Z",
      "side": 1,
      "message": "Consider renaming to something like `mDbHelper`.\n\nThat might indicate the purpose of this object slightly better.",
      "range": {
        "startLine": 74,
        "startChar": 27,
        "endLine": 74,
        "endChar": 38
      },
      "revId": "15c3d89eb3a6ceb0c6750f678bcb80ad39bb51cf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "297a86f7_03e20c34",
        "filename": "services/core/java/com/android/server/connectivity/VpnBlobStore.java",
        "patchSetId": 1
      },
      "lineNbr": 74,
      "author": {
        "id": 1966927
      },
      "writtenOn": "2023-12-01T13:11:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "311b5430_971a6e6c",
      "range": {
        "startLine": 74,
        "startChar": 27,
        "endLine": 74,
        "endChar": 38
      },
      "revId": "15c3d89eb3a6ceb0c6750f678bcb80ad39bb51cf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}