{
  "comments": [
    {
      "key": {
        "uuid": "a573ecf4_93cf108a",
        "filename": "tests/net/java/com/android/server/ConnectivityServiceTest.java",
        "patchSetId": 2
      },
      "lineNbr": 1253,
      "author": {
        "id": 1306837
      },
      "writtenOn": "2019-11-18T12:33:17Z",
      "side": 1,
      "message": "nit: Although this is used widely, it is not very friend to me that the function returns a CV, instead of actually blocking on something, like waitForIdle().\nDo we want to name it in better way?",
      "range": {
        "startLine": 1253,
        "startChar": 30,
        "endLine": 1253,
        "endChar": 59
      },
      "revId": "0dce17b764af51d56586559a8f22c52507aa7b1f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f1889110_36f01e32",
        "filename": "tests/net/java/com/android/server/ConnectivityServiceTest.java",
        "patchSetId": 2
      },
      "lineNbr": 1253,
      "author": {
        "id": 1015428
      },
      "writtenOn": "2019-11-19T07:25:44Z",
      "side": 1,
      "message": "Makes complete sense, but done in a follow-up as the rename is pervasive and unrelated to this change.",
      "parentUuid": "a573ecf4_93cf108a",
      "range": {
        "startLine": 1253,
        "startChar": 30,
        "endLine": 1253,
        "endChar": 59
      },
      "revId": "0dce17b764af51d56586559a8f22c52507aa7b1f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ccbceef8_198764d2",
        "filename": "tests/net/java/com/android/server/ConnectivityServiceTest.java",
        "patchSetId": 2
      },
      "lineNbr": 1257,
      "author": {
        "id": 1306837
      },
      "writtenOn": "2019-11-18T12:33:17Z",
      "side": 1,
      "message": "1. maybe waitForConnectivityBroadcastsThat to indicate there is a predicate input?\n\n2. IIUC we are not testing ACTION \u0026 ACTION_SUPL at the same time.\nis it better if we simplify it to something like waitForConnectivityBroadcasts(count, action)?",
      "range": {
        "startLine": 1257,
        "startChar": 30,
        "endLine": 1257,
        "endChar": 59
      },
      "revId": "0dce17b764af51d56586559a8f22c52507aa7b1f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "51886e60_99cb2ba6",
        "filename": "tests/net/java/com/android/server/ConnectivityServiceTest.java",
        "patchSetId": 2
      },
      "lineNbr": 1257,
      "author": {
        "id": 1015428
      },
      "writtenOn": "2019-11-19T07:25:44Z",
      "side": 1,
      "message": "Implemented 1. in the same follow-up change as the above.\n\n2. I considered that and thought the caller typically didn\u0027t care. I don\u0027t feel strongly, so if you do I\u0027ll change it.",
      "parentUuid": "ccbceef8_198764d2",
      "range": {
        "startLine": 1257,
        "startChar": 30,
        "endLine": 1257,
        "endChar": 59
      },
      "revId": "0dce17b764af51d56586559a8f22c52507aa7b1f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d9376343_67b5ddd0",
        "filename": "tests/net/java/com/android/server/ConnectivityServiceTest.java",
        "patchSetId": 2
      },
      "lineNbr": 1257,
      "author": {
        "id": 1306837
      },
      "writtenOn": "2019-11-19T11:10:39Z",
      "side": 1,
      "message": "TBH I don\u0027t",
      "parentUuid": "51886e60_99cb2ba6",
      "range": {
        "startLine": 1257,
        "startChar": 30,
        "endLine": 1257,
        "endChar": 59
      },
      "revId": "0dce17b764af51d56586559a8f22c52507aa7b1f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "565c4a36_b7e8f1f8",
        "filename": "tests/net/java/com/android/server/ConnectivityServiceTest.java",
        "patchSetId": 2
      },
      "lineNbr": 1308,
      "author": {
        "id": 1306837
      },
      "writtenOn": "2019-11-19T11:10:39Z",
      "side": 1,
      "message": "nit: maybe put them into separate section to improve readability, I don\u0027t have strong opinion.",
      "range": {
        "startLine": 1304,
        "startChar": 8,
        "endLine": 1308,
        "endChar": 83
      },
      "revId": "0dce17b764af51d56586559a8f22c52507aa7b1f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d512a02f_89ac04fb",
        "filename": "tests/net/java/com/android/server/ConnectivityServiceTest.java",
        "patchSetId": 2
      },
      "lineNbr": 1308,
      "author": {
        "id": 1015428
      },
      "writtenOn": "2019-11-19T11:59:40Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "565c4a36_b7e8f1f8",
      "range": {
        "startLine": 1304,
        "startChar": 8,
        "endLine": 1308,
        "endChar": 83
      },
      "revId": "0dce17b764af51d56586559a8f22c52507aa7b1f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a47973b6_a3fea914",
        "filename": "tests/net/java/com/android/server/ConnectivityServiceTest.java",
        "patchSetId": 2
      },
      "lineNbr": 1342,
      "author": {
        "id": 1306837
      },
      "writtenOn": "2019-11-19T11:10:39Z",
      "side": 1,
      "message": "1.quesion: are we expecting CONNECTIVITY_ACTION with TYPE_MOBILE, and CONNECTIVITY_ACTION_SUPL with TYPE_MOBILE_SUPL?\n\n2. nit: IIUC we did not verify this. We just verify there are total 2 of them.\nIf 1 is true, we might use below form to verify them:\n   waitForConnectivityBroadcasts(count, type, expectConnected)\n\nThis also gives another reason of comments at l.1257.\nBut given that it is legacy code, which we might not really care. I still don\u0027t feel strongly.",
      "range": {
        "startLine": 1341,
        "startChar": 74,
        "endLine": 1342,
        "endChar": 21
      },
      "revId": "0dce17b764af51d56586559a8f22c52507aa7b1f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ebf27cb9_21a4ef4e",
        "filename": "tests/net/java/com/android/server/ConnectivityServiceTest.java",
        "patchSetId": 2
      },
      "lineNbr": 1342,
      "author": {
        "id": 1015428
      },
      "writtenOn": "2019-11-19T11:59:40Z",
      "side": 1,
      "message": "1. Yes actually there is ad-hoc code in LegacyTypeTracker replacing the action if the type is SUPL. It\u0027s pretty hacky. https://osscs.corp.google.com/android/platform/superproject/+/master:frameworks/base/services/core/java/com/android/server/ConnectivityService.java;l\u003d2158?q\u003dconnectivityservice.java\n\n2. Then let\u0027s keep the current signature. We\u0027ll do this if we start having more use of this specific form. For now the generic form is probably enough.\nI do agree with your comment that we should check for both to be sent though. I don\u0027t want the order to be contractual, so I implemented a small hack to check that there was one for each type. See what you think.",
      "parentUuid": "a47973b6_a3fea914",
      "range": {
        "startLine": 1341,
        "startChar": 74,
        "endLine": 1342,
        "endChar": 21
      },
      "revId": "0dce17b764af51d56586559a8f22c52507aa7b1f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e463915e_1909657d",
        "filename": "tests/net/java/com/android/server/LegacyTypeTrackerTest.kt",
        "patchSetId": 2
      },
      "lineNbr": 78,
      "author": {
        "id": 1306837
      },
      "writtenOn": "2019-11-19T11:10:39Z",
      "side": 1,
      "message": "question: why do we need to reset every time?",
      "range": {
        "startLine": 78,
        "startChar": 7,
        "endLine": 78,
        "endChar": 27
      },
      "revId": "0dce17b764af51d56586559a8f22c52507aa7b1f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "53c25fab_fdea0ee1",
        "filename": "tests/net/java/com/android/server/LegacyTypeTrackerTest.kt",
        "patchSetId": 2
      },
      "lineNbr": 89,
      "author": {
        "id": 1306837
      },
      "writtenOn": "2019-11-19T11:10:39Z",
      "side": 1,
      "message": "question: why do we expect 2 supl broadcast here?",
      "range": {
        "startLine": 89,
        "startChar": 81,
        "endLine": 89,
        "endChar": 97
      },
      "revId": "0dce17b764af51d56586559a8f22c52507aa7b1f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}