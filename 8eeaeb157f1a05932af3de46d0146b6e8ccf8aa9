{
  "comments": [
    {
      "key": {
        "uuid": "0d17f697_3fb9696b",
        "filename": "services/core/java/com/android/server/connectivity/Tethering.java",
        "patchSetId": 2
      },
      "lineNbr": 459,
      "author": {
        "id": 1015428
      },
      "writtenOn": "2019-08-27T12:54:44Z",
      "side": 1,
      "message": "(or stopTethering)\n\n\"before the control comes here\"",
      "range": {
        "startLine": 459,
        "startChar": 39,
        "endLine": 459,
        "endChar": 53
      },
      "revId": "8eeaeb157f1a05932af3de46d0146b6e8ccf8aa9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2fef69bb_bcee9024",
        "filename": "services/core/java/com/android/server/connectivity/Tethering.java",
        "patchSetId": 2
      },
      "lineNbr": 459,
      "author": {
        "id": 1308504
      },
      "writtenOn": "2019-08-27T15:29:08Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0d17f697_3fb9696b",
      "range": {
        "startLine": 459,
        "startChar": 39,
        "endLine": 459,
        "endChar": 53
      },
      "revId": "8eeaeb157f1a05932af3de46d0146b6e8ccf8aa9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ae62ef55_dcf5a67c",
        "filename": "services/core/java/com/android/server/connectivity/Tethering.java",
        "patchSetId": 2
      },
      "lineNbr": 460,
      "author": {
        "id": 1015428
      },
      "writtenOn": "2019-08-27T12:54:44Z",
      "side": 1,
      "message": "Couldn\u0027t we instead pass the package name to BluetoothPan#setBluetoothTethering ? So as to preserve @UnsupportedAppUsage we could do the following :\n\n@UnsupportedAppUsage\npublic void setBluetoothTethering(boolean value) {\n  setBluetoothTethering(value, mContext.getOpPackageName())\n}\n\n/** @hide */\npublic void setBluetoothTethering(boolean value, String pkgName) {\n  // current code\n}\n\n...and call only the latter.",
      "range": {
        "startLine": 460,
        "startChar": 68,
        "endLine": 460,
        "endChar": 84
      },
      "revId": "8eeaeb157f1a05932af3de46d0146b6e8ccf8aa9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "89406038_00c0684f",
        "filename": "services/core/java/com/android/server/connectivity/Tethering.java",
        "patchSetId": 2
      },
      "lineNbr": 460,
      "author": {
        "id": 1308504
      },
      "writtenOn": "2019-08-27T15:29:08Z",
      "side": 1,
      "message": "Hmm, there is some reason I decide to clear identity here.\n1. If so, we need to let ConnectivityService pass caller package name to Tethering that add more parameter in Tethering#startTethering(). And it only used in this case for bluetooth that wifi and usb tethering don\u0027t need to know package name.\n2. The usage for this package name is doing the permission check that we already done before.\n3. Actually we also clear the identity for #setWifiTethering().\n4. Besides, we plan to mainline tethering that tethering may not in system server which means the new API setBluetoothTethering(boolean value, String pkgName) need to be changed to @systemApi in R.",
      "parentUuid": "ae62ef55_dcf5a67c",
      "range": {
        "startLine": 460,
        "startChar": 68,
        "endLine": 460,
        "endChar": 84
      },
      "revId": "8eeaeb157f1a05932af3de46d0146b6e8ccf8aa9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3cf44770_41bdaf69",
        "filename": "services/core/java/com/android/server/connectivity/Tethering.java",
        "patchSetId": 2
      },
      "lineNbr": 463,
      "author": {
        "id": 1015428
      },
      "writtenOn": "2019-08-27T12:54:44Z",
      "side": 1,
      "message": "identity",
      "range": {
        "startLine": 463,
        "startChar": 60,
        "endLine": 463,
        "endChar": 68
      },
      "revId": "8eeaeb157f1a05932af3de46d0146b6e8ccf8aa9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3a377b33_fa961fa8",
        "filename": "services/core/java/com/android/server/connectivity/Tethering.java",
        "patchSetId": 2
      },
      "lineNbr": 463,
      "author": {
        "id": 1308504
      },
      "writtenOn": "2019-08-27T15:29:08Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3cf44770_41bdaf69",
      "range": {
        "startLine": 463,
        "startChar": 60,
        "endLine": 463,
        "endChar": 68
      },
      "revId": "8eeaeb157f1a05932af3de46d0146b6e8ccf8aa9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}