{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "9b140f26_67f7aefe",
        "filename": "core/res/AndroidManifest.xml",
        "patchSetId": 1
      },
      "lineNbr": 2263,
      "author": {
        "id": 1059882
      },
      "writtenOn": "2024-05-15T16:20:43Z",
      "side": 1,
      "message": "Not signature?",
      "range": {
        "startLine": 2263,
        "startChar": 41,
        "endLine": 2263,
        "endChar": 49
      },
      "revId": "5fbbd6ce8469f0541ed87231f7505fee5320968f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bf00708a_a513868c",
        "filename": "core/res/AndroidManifest.xml",
        "patchSetId": 1
      },
      "lineNbr": 2263,
      "author": {
        "id": 1693933
      },
      "writtenOn": "2024-05-16T05:54:13Z",
      "side": 1,
      "message": "Oh yes, updated to require signature.",
      "parentUuid": "9b140f26_67f7aefe",
      "range": {
        "startLine": 2263,
        "startChar": 41,
        "endLine": 2263,
        "endChar": 49
      },
      "revId": "5fbbd6ce8469f0541ed87231f7505fee5320968f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "839410f8_d7c35128",
        "filename": "core/res/AndroidManifest.xml",
        "patchSetId": 1
      },
      "lineNbr": 2263,
      "author": {
        "id": 1693933
      },
      "writtenOn": "2024-05-16T08:18:59Z",
      "side": 1,
      "message": "But wait, if I changed it to \"signature|role\", my demoapp (which is built with the platform) can be granted this permission even if it has not the shell role. See the test code [here](https://android-review.git.corp.google.com/c/platform/packages/modules/Connectivity/+/3091425/1/thread/demoapp/java/com/android/threadnetwork/demoapp/ThreadNetworkSettingsFragment.java)\n\nThe intention here is that this permission should be granted to only shell. It looks like this is what [internal](https://developer.android.com/reference/android/R.attr#protectionLevel) permission type intended to support.",
      "parentUuid": "bf00708a_a513868c",
      "range": {
        "startLine": 2263,
        "startChar": 41,
        "endLine": 2263,
        "endChar": 49
      },
      "revId": "5fbbd6ce8469f0541ed87231f7505fee5320968f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1e2f29bc_0a2e6973",
        "filename": "core/res/AndroidManifest.xml",
        "patchSetId": 1
      },
      "lineNbr": 2263,
      "author": {
        "id": 1059882
      },
      "writtenOn": "2024-05-20T16:41:44Z",
      "side": 1,
      "message": "Okay...  though generally I strongly discourage making the shell special.  The shell is just a user, signed with the platform certificate, so it can be given whatever privileged permissions make sense for it.  I don\u0027t want us moving more into a world where simply being the shell makes you special, and there are all kinds of capabilities the shell gets because it is special, and not if you want to do any of that stuff elsewhere you need to get your code running as shell and it becomes basically a big escalation.\n\nIs this stuff here really semantically directly tied to the shell?  Usually we have privileged APIs that have permissions protecting them based on their semantic capability, which we give to shell if it makes sense.",
      "parentUuid": "839410f8_d7c35128",
      "range": {
        "startLine": 2263,
        "startChar": 41,
        "endLine": 2263,
        "endChar": 49
      },
      "revId": "5fbbd6ce8469f0541ed87231f7505fee5320968f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1e6a80a8_6dcc828e",
        "filename": "core/res/AndroidManifest.xml",
        "patchSetId": 1
      },
      "lineNbr": 2263,
      "author": {
        "id": 1693933
      },
      "writtenOn": "2024-05-20T17:34:28Z",
      "side": 1,
      "message": "Offline chat with Dianne and the outcome is that we shouldn\u0027t tie a permission or APIs access to shell. But if we do want different protection semantics for different sets of APIs or shell commands, they ideally should be protected by different (new) permissions.\n\nFor our use cases, we do want to add some shell commands which are for testing only. So here updated to add a new signature-level \"THREAD_NETWORK_TESTING\" permission.",
      "parentUuid": "1e2f29bc_0a2e6973",
      "range": {
        "startLine": 2263,
        "startChar": 41,
        "endLine": 2263,
        "endChar": 49
      },
      "revId": "5fbbd6ce8469f0541ed87231f7505fee5320968f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}