{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "3b6d3005_70305987",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1953906
      },
      "writtenOn": "2023-05-11T17:40:05Z",
      "side": 1,
      "message": "Thank you so much for reviewing it!\nAddressed and answered to all of the comments.",
      "revId": "0f6b240c8873606dca3014e545acc5a56d2dfbf6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0b9005f3_26210ae7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1967850
      },
      "writtenOn": "2023-05-27T21:59:52Z",
      "side": 1,
      "message": "Jiabin, thx for reviewing the patch - can you please look at Andrei\u0027s recent comments whether they address your feedback?",
      "revId": "0f6b240c8873606dca3014e545acc5a56d2dfbf6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c24a0bb0_74e80c4b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1102563
      },
      "writtenOn": "2023-05-30T17:55:27Z",
      "side": 1,
      "message": "Eric, could you also chime here to see if a feature is required for this change?",
      "revId": "0f6b240c8873606dca3014e545acc5a56d2dfbf6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0e515c31_75e29fd4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1953906
      },
      "writtenOn": "2023-05-31T11:13:26Z",
      "side": 1,
      "message": "Addressed the comments",
      "revId": "0f6b240c8873606dca3014e545acc5a56d2dfbf6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4150273a_884edca6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1102563
      },
      "writtenOn": "2023-05-31T18:58:32Z",
      "side": 1,
      "message": "Adding Mark as owner to review the USB framework change.",
      "revId": "0f6b240c8873606dca3014e545acc5a56d2dfbf6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5507aea2_45da98b4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1826738
      },
      "writtenOn": "2023-06-01T11:20:31Z",
      "side": 1,
      "message": "Looks good overall",
      "revId": "0f6b240c8873606dca3014e545acc5a56d2dfbf6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4fbfd779_6327fd1a",
        "filename": "services/usb/java/com/android/server/usb/AsteriskIntPrefixTree.java",
        "patchSetId": 2
      },
      "lineNbr": 60,
      "author": {
        "id": 1826738
      },
      "writtenOn": "2023-06-01T11:20:31Z",
      "side": 1,
      "message": "If values is empty should we still be setting isFinalNode to true?",
      "revId": "0f6b240c8873606dca3014e545acc5a56d2dfbf6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d27dba29_1cb031b3",
        "filename": "services/usb/java/com/android/server/usb/AsteriskIntPrefixTree.java",
        "patchSetId": 2
      },
      "lineNbr": 60,
      "author": {
        "id": 1953906
      },
      "writtenOn": "2023-06-02T17:48:49Z",
      "side": 1,
      "message": "Good point, fixed",
      "parentUuid": "4fbfd779_6327fd1a",
      "revId": "0f6b240c8873606dca3014e545acc5a56d2dfbf6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7eccd8b7_f48e3b84",
        "filename": "services/usb/java/com/android/server/usb/AsteriskIntPrefixTree.java",
        "patchSetId": 2
      },
      "lineNbr": 60,
      "author": {
        "id": 1953906
      },
      "writtenOn": "2023-06-02T17:54:40Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d27dba29_1cb031b3",
      "revId": "0f6b240c8873606dca3014e545acc5a56d2dfbf6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5c272290_4e0a2a1f",
        "filename": "services/usb/java/com/android/server/usb/AsteriskIntPrefixTree.java",
        "patchSetId": 2
      },
      "lineNbr": 116,
      "author": {
        "id": 1826738
      },
      "writtenOn": "2023-06-01T11:20:31Z",
      "side": 1,
      "message": "Can this be private?",
      "range": {
        "startLine": 116,
        "startChar": 0,
        "endLine": 116,
        "endChar": 23
      },
      "revId": "0f6b240c8873606dca3014e545acc5a56d2dfbf6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fcb55d92_6ac0db7b",
        "filename": "services/usb/java/com/android/server/usb/AsteriskIntPrefixTree.java",
        "patchSetId": 2
      },
      "lineNbr": 116,
      "author": {
        "id": 1953906
      },
      "writtenOn": "2023-06-02T17:48:49Z",
      "side": 1,
      "message": "Yeah, this was an android app developer in me trying to reduce the method count by preventing the synthetic accessors generation ðŸ˜…",
      "parentUuid": "5c272290_4e0a2a1f",
      "range": {
        "startLine": 116,
        "startChar": 0,
        "endLine": 116,
        "endChar": 23
      },
      "revId": "0f6b240c8873606dca3014e545acc5a56d2dfbf6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a31fba4e_b4a500d5",
        "filename": "services/usb/java/com/android/server/usb/AsteriskIntPrefixTree.java",
        "patchSetId": 2
      },
      "lineNbr": 116,
      "author": {
        "id": 1953906
      },
      "writtenOn": "2023-06-02T17:54:40Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "fcb55d92_6ac0db7b",
      "range": {
        "startLine": 116,
        "startChar": 0,
        "endLine": 116,
        "endChar": 23
      },
      "revId": "0f6b240c8873606dca3014e545acc5a56d2dfbf6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "17e2c1da_40464b6b",
        "filename": "services/usb/java/com/android/server/usb/AsteriskIntPrefixTree.java",
        "patchSetId": 2
      },
      "lineNbr": 118,
      "author": {
        "id": 1826738
      },
      "writtenOn": "2023-06-01T11:20:31Z",
      "side": 1,
      "message": "isLeafNode may be slightly clearer.",
      "range": {
        "startLine": 118,
        "startChar": 0,
        "endLine": 118,
        "endChar": 35
      },
      "revId": "0f6b240c8873606dca3014e545acc5a56d2dfbf6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bc31a4d6_481f64ef",
        "filename": "services/usb/java/com/android/server/usb/AsteriskIntPrefixTree.java",
        "patchSetId": 2
      },
      "lineNbr": 118,
      "author": {
        "id": 1953906
      },
      "writtenOn": "2023-06-02T17:48:49Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "17e2c1da_40464b6b",
      "range": {
        "startLine": 118,
        "startChar": 0,
        "endLine": 118,
        "endChar": 35
      },
      "revId": "0f6b240c8873606dca3014e545acc5a56d2dfbf6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c115fd87_ba713b4c",
        "filename": "services/usb/java/com/android/server/usb/UsbDeviceDenyList.java",
        "patchSetId": 2
      },
      "lineNbr": 22,
      "author": {
        "id": 1060750
      },
      "writtenOn": "2023-05-30T22:34:17Z",
      "side": 1,
      "message": "What is \"trie\"?",
      "range": {
        "startLine": 22,
        "startChar": 8,
        "endLine": 22,
        "endChar": 12
      },
      "revId": "0f6b240c8873606dca3014e545acc5a56d2dfbf6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9f8291f8_1851ece1",
        "filename": "services/usb/java/com/android/server/usb/UsbDeviceDenyList.java",
        "patchSetId": 2
      },
      "lineNbr": 22,
      "author": {
        "id": 1953906
      },
      "writtenOn": "2023-05-31T11:13:26Z",
      "side": 1,
      "message": "Trie is an another name for a prefix tree data structure.",
      "parentUuid": "c115fd87_ba713b4c",
      "range": {
        "startLine": 22,
        "startChar": 8,
        "endLine": 22,
        "endChar": 12
      },
      "revId": "0f6b240c8873606dca3014e545acc5a56d2dfbf6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4bd0e41f_8960542a",
        "filename": "services/usb/java/com/android/server/usb/UsbDeviceDenyList.java",
        "patchSetId": 2
      },
      "lineNbr": 22,
      "author": {
        "id": 1953906
      },
      "writtenOn": "2023-06-02T17:48:49Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9f8291f8_1851ece1",
      "range": {
        "startLine": 22,
        "startChar": 8,
        "endLine": 22,
        "endChar": 12
      },
      "revId": "0f6b240c8873606dca3014e545acc5a56d2dfbf6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4dd96d52_199f5bf5",
        "filename": "services/usb/java/com/android/server/usb/UsbDeviceDenyList.java",
        "patchSetId": 2
      },
      "lineNbr": 32,
      "author": {
        "id": 1826738
      },
      "writtenOn": "2023-06-01T11:20:31Z",
      "side": 1,
      "message": "Could it make it more explicit if we only allow \"*\" as match all, or is there precedent for this format with empty string being match all?",
      "range": {
        "startLine": 32,
        "startChar": 0,
        "endLine": 32,
        "endChar": 99
      },
      "revId": "0f6b240c8873606dca3014e545acc5a56d2dfbf6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d718b03a_5c98f7e1",
        "filename": "services/usb/java/com/android/server/usb/UsbDeviceDenyList.java",
        "patchSetId": 2
      },
      "lineNbr": 32,
      "author": {
        "id": 1953906
      },
      "writtenOn": "2023-06-02T17:48:49Z",
      "side": 1,
      "message": "It was inspired by ipv6 format ðŸ˜…. I totally agree that explicit is better.",
      "parentUuid": "4dd96d52_199f5bf5",
      "range": {
        "startLine": 32,
        "startChar": 0,
        "endLine": 32,
        "endChar": 99
      },
      "revId": "0f6b240c8873606dca3014e545acc5a56d2dfbf6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5fa48d11_41e34f69",
        "filename": "services/usb/java/com/android/server/usb/UsbDeviceDenyList.java",
        "patchSetId": 2
      },
      "lineNbr": 32,
      "author": {
        "id": 1953906
      },
      "writtenOn": "2023-06-02T17:54:40Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d718b03a_5c98f7e1",
      "range": {
        "startLine": 32,
        "startChar": 0,
        "endLine": 32,
        "endChar": 99
      },
      "revId": "0f6b240c8873606dca3014e545acc5a56d2dfbf6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "eba1a36d_ce7c2332",
        "filename": "services/usb/java/com/android/server/usb/UsbDeviceDenyList.java",
        "patchSetId": 2
      },
      "lineNbr": 36,
      "author": {
        "id": 1060750
      },
      "writtenOn": "2023-05-30T22:34:17Z",
      "side": 1,
      "message": "Instead of just a \"deny\" list,\ncould we support both \"deny\" and \"permit\"?\nThis would be similar to the Access Control Lists design (ACL).",
      "range": {
        "startLine": 36,
        "startChar": 22,
        "endLine": 36,
        "endChar": 26
      },
      "revId": "0f6b240c8873606dca3014e545acc5a56d2dfbf6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f13c2dde_77160c01",
        "filename": "services/usb/java/com/android/server/usb/UsbDeviceDenyList.java",
        "patchSetId": 2
      },
      "lineNbr": 36,
      "author": {
        "id": 1953906
      },
      "writtenOn": "2023-05-31T11:13:26Z",
      "side": 1,
      "message": "Currently USBHostManager follows the deny list approach i.e. \"every USB device is allowed to be accessed by 3P apps, unless specified otherwise\". It\u0027s done this way to allow arbitrary USB accessories to be used along with he corresponding 3P apps acting as user space drivers for them.\nSo allow list approach didn\u0027t seem like a good fit for given use case.\nUnless we want to make it a device policy enforced by DevicePolicyManager. However that would drastically increase the volume of this change.",
      "parentUuid": "eba1a36d_ce7c2332",
      "range": {
        "startLine": 36,
        "startChar": 22,
        "endLine": 36,
        "endChar": 26
      },
      "revId": "0f6b240c8873606dca3014e545acc5a56d2dfbf6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a6807e77_0b2cfd4c",
        "filename": "services/usb/java/com/android/server/usb/UsbDeviceDenyList.java",
        "patchSetId": 2
      },
      "lineNbr": 36,
      "author": {
        "id": 2002580
      },
      "writtenOn": "2023-06-20T01:24:33Z",
      "side": 1,
      "message": "Hi @Phil Burk, may you, please, review is this sufficient to move the patch forward?",
      "parentUuid": "f13c2dde_77160c01",
      "range": {
        "startLine": 36,
        "startChar": 22,
        "endLine": 36,
        "endChar": 26
      },
      "revId": "0f6b240c8873606dca3014e545acc5a56d2dfbf6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f9c8b2b1_39d9a366",
        "filename": "services/usb/java/com/android/server/usb/UsbDeviceDenyList.java",
        "patchSetId": 2
      },
      "lineNbr": 36,
      "author": {
        "id": 1060750
      },
      "writtenOn": "2023-09-12T20:33:34Z",
      "side": 1,
      "message": "This is OK. It sounds like they have a reason not to do \"deny/permit\".",
      "parentUuid": "a6807e77_0b2cfd4c",
      "range": {
        "startLine": 36,
        "startChar": 22,
        "endLine": 36,
        "endChar": 26
      },
      "revId": "0f6b240c8873606dca3014e545acc5a56d2dfbf6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f299491b_f6dce00b",
        "filename": "services/usb/java/com/android/server/usb/UsbDeviceDenyList.java",
        "patchSetId": 2
      },
      "lineNbr": 51,
      "author": {
        "id": 1826738
      },
      "writtenOn": "2023-06-01T11:20:31Z",
      "side": 1,
      "message": "I know this class is pretty straightforward (at present) but I still think it\u0027s worth adding unit test coverage.",
      "revId": "0f6b240c8873606dca3014e545acc5a56d2dfbf6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2f1acb19_016a337c",
        "filename": "services/usb/java/com/android/server/usb/UsbDeviceDenyList.java",
        "patchSetId": 2
      },
      "lineNbr": 51,
      "author": {
        "id": 1953906
      },
      "writtenOn": "2023-06-02T17:48:49Z",
      "side": 1,
      "message": "I\u0027ve intentionally split it the code into two well testable and composable classes.\nEven though it\u0027s a bit of a duplication, I agree that it\u0027s better to have some minimal test coverage.",
      "parentUuid": "f299491b_f6dce00b",
      "revId": "0f6b240c8873606dca3014e545acc5a56d2dfbf6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9ddbcb4c_6f436cd2",
        "filename": "services/usb/java/com/android/server/usb/UsbDeviceDenyList.java",
        "patchSetId": 2
      },
      "lineNbr": 51,
      "author": {
        "id": 1953906
      },
      "writtenOn": "2023-06-02T17:54:40Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2f1acb19_016a337c",
      "revId": "0f6b240c8873606dca3014e545acc5a56d2dfbf6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f9e2b932_e184b2a9",
        "filename": "services/usb/java/com/android/server/usb/UsbHostManager.java",
        "patchSetId": 2
      },
      "lineNbr": 648,
      "author": {
        "id": 1102563
      },
      "writtenOn": "2023-05-30T17:55:27Z",
      "side": 1,
      "message": "With the change, it is against original logic that only ignore device if all interfaces are deny-listed. Could you explain more here?",
      "range": {
        "startLine": 646,
        "startChar": 12,
        "endLine": 648,
        "endChar": 37
      },
      "revId": "0f6b240c8873606dca3014e545acc5a56d2dfbf6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f52ef7ee_0efdba34",
        "filename": "services/usb/java/com/android/server/usb/UsbHostManager.java",
        "patchSetId": 2
      },
      "lineNbr": 648,
      "author": {
        "id": 1102563
      },
      "writtenOn": "2023-05-30T22:12:41Z",
      "side": 1,
      "message": "This looks more like a generic USB request other than an audio only issue. Badhri, could you help comment here?",
      "parentUuid": "f9e2b932_e184b2a9",
      "range": {
        "startLine": 646,
        "startChar": 12,
        "endLine": 648,
        "endChar": 37
      },
      "revId": "0f6b240c8873606dca3014e545acc5a56d2dfbf6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}