{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "9c692780_f3a0c518",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1930620
      },
      "writtenOn": "2024-01-19T17:33:59Z",
      "side": 1,
      "message": "Instead of going to the kernel to get this info, I think we should just plumb through the UID in addition to the PID on the setProcessGroup JNI call like the others in this file.",
      "revId": "6d07d8e247821e355bf00e96b38aa4888b245f4a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fb3451b9_6b00a952",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1869780
      },
      "writtenOn": "2024-01-19T18:58:02Z",
      "side": 1,
      "message": "I don\u0027t think that this is possible for every setProcessGroup() caller. Here is an example of a context where the UID information is not available (see also CarShellCommand.java):\n```\n    private void setProcessGroup(String[] args, IndentingPrintWriter writer) {\n        if (args.length !\u003d 3) {\n            showInvalidArguments(writer);\n            return;\n        }\n\n        int pid \u003d Integer.parseInt(args[1]);\n        int group \u003d Integer.parseInt(args[2]);\n        Slogf.d(TAG, \"Setting process group for pid %d, group %d\", pid, group);\n\n        CarServiceHelperWrapper.getInstance().setProcessGroup(pid, group);\n\n        writer.printf(\"  Successfully set pid %s to group %s\\n\", args[1], args[2]);\n    }\n```",
      "parentUuid": "9c692780_f3a0c518",
      "revId": "6d07d8e247821e355bf00e96b38aa4888b245f4a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "583ad05d_ded3a78e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1930620
      },
      "writtenOn": "2024-01-19T22:17:03Z",
      "side": 1,
      "message": "`set-process-profile` there already requires the UID as an argument, so `set-process-group` looks like it can too. But even if not, doesn\u0027t `Process.setProcessGroup` get called for all top app state transitions? The carservice callsite should be much less frequent than those, so I\u0027d prefer to avoid reading procfs for the more frequent usecase, and make the carservice go look it up if they want to call this.\n\nhttps://cs.android.com/android/platform/superproject/main/+/main:packages/services/Car/service/src/com/android/car/CarShellCommand.java;l\u003d930-936;drc\u003d7bd4e30170a53d3c7889d28e360d8bf7ead083a7",
      "parentUuid": "fb3451b9_6b00a952",
      "revId": "6d07d8e247821e355bf00e96b38aa4888b245f4a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}