{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "9cd0bb7e_fc36d905",
        "filename": "telephony/java/android/telephony/SignalThresholdInfo.java",
        "patchSetId": 13
      },
      "lineNbr": 447,
      "author": {
        "id": 1056478
      },
      "writtenOn": "2021-01-14T21:25:53Z",
      "side": 1,
      "message": "Can you document on how many values are expected in this array and what determines that number of values?  I\u0027m not clear what type of data would be seen in this array.\n\nAlso, the unit of the values should be included in the name:\ngetThresholdsDbm\n\nSimilar for the setThresholdsDbm in the builder.",
      "range": {
        "startLine": 443,
        "startChar": 4,
        "endLine": 447,
        "endChar": 7
      },
      "revId": "f93c65ab1bc8c7a7f9ff2d487a19bd43f16033b6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8684d6b4_5c73c540",
        "filename": "telephony/java/android/telephony/SignalThresholdInfo.java",
        "patchSetId": 13
      },
      "lineNbr": 447,
      "author": {
        "id": 1060151
      },
      "writtenOn": "2021-01-14T21:31:33Z",
      "side": 1,
      "message": "It\u0027s dB for some and dBM for others. :-D",
      "parentUuid": "9cd0bb7e_fc36d905",
      "range": {
        "startLine": 443,
        "startChar": 4,
        "endLine": 447,
        "endChar": 7
      },
      "revId": "f93c65ab1bc8c7a7f9ff2d487a19bd43f16033b6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2d734d26_32f7488c",
        "filename": "telephony/java/android/telephony/SignalThresholdInfo.java",
        "patchSetId": 13
      },
      "lineNbr": 447,
      "author": {
        "id": 1609802
      },
      "writtenOn": "2021-01-14T21:51:11Z",
      "side": 1,
      "message": "We are not able to put unit in the name. \n\nBut adding a statement saying, range and unit can refer to the SignalMeasurementType (with a @see link). Is that better?",
      "parentUuid": "8684d6b4_5c73c540",
      "range": {
        "startLine": 443,
        "startChar": 4,
        "endLine": 447,
        "endChar": 7
      },
      "revId": "f93c65ab1bc8c7a7f9ff2d487a19bd43f16033b6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8927aea4_a0679d6a",
        "filename": "telephony/java/android/telephony/SignalThresholdInfo.java",
        "patchSetId": 13
      },
      "lineNbr": 447,
      "author": {
        "id": 1056478
      },
      "writtenOn": "2021-01-14T23:10:02Z",
      "side": 1,
      "message": "Of course it isn\u0027t consistent. :)\nWhat I\u0027m more curious about is how many values are in the int array?  It is just 2?\nLet me see if I understand it correctly:\nIf the signal measurement type specified in the builder\u0027s setSignalMeasurementType method is SIGNAL_MEASUREMENT_TYPE_RSCP, then this method returns an array with 2 elements which are: -120,-25\n\nIf that is the case then two suggestions:\n1. There should be a getSignalMeasurementType on SignalThresholdInfo, otherwise it\u0027s not clear what type of thresholds are being referred to.\n2. Instead of an int[] array this should be represented as an android.util.Range\u003cInteger\u003e since that class cleanly represents the concept of a range.",
      "parentUuid": "2d734d26_32f7488c",
      "range": {
        "startLine": 443,
        "startChar": 4,
        "endLine": 447,
        "endChar": 7
      },
      "revId": "f93c65ab1bc8c7a7f9ff2d487a19bd43f16033b6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5cd8ad0e_3b43f597",
        "filename": "telephony/java/android/telephony/SignalThresholdInfo.java",
        "patchSetId": 13
      },
      "lineNbr": 447,
      "author": {
        "id": 1609802
      },
      "writtenOn": "2021-01-15T00:06:20Z",
      "side": 1,
      "message": "Tyler, \nSignalThresholdInfo does have a method called #getSignalMeasurementType (which is public in this CL :-)\n\nThere is a small misunderstanding here. The thresholds is NOT used to mark the range, but used to specify a list of thresholds used together with a RAN/SignalMeasurementType (of cause the value for each threshold should within the range of the corresponding SignalMeasurementType)\n\nBefore this feature, SignalThresholdInfo is only used by system (eg. for signal bar displaying), the length of the array is fixed (4, loading from Carrier Config items) but it allow an empty array which was used to disable the reporting for that SignalMeasurementType (but later the isEnabled field replace this usage, but we have to keep the behavior for compatibility).\n\nNow SignalThresholdInfo is exposed for privileged application to set the SignalStrengthUpdateRequest (NEXT CL aosp/1532958). And we do restrict the length of threshold there for app caller (1 \u003c\u003d length \u003c\u003d 4) but there should be no such restriction for system caller.\n\nAnd since system caller and apps caller has different behavior (ability), the validation check is located in PhoneInterfaceManager (aosp/1545044).\n\nPlease advice if this make sense.\nThanks",
      "parentUuid": "8927aea4_a0679d6a",
      "range": {
        "startLine": 443,
        "startChar": 4,
        "endLine": 447,
        "endChar": 7
      },
      "revId": "f93c65ab1bc8c7a7f9ff2d487a19bd43f16033b6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1972d324_753abbdd",
        "filename": "telephony/java/android/telephony/SignalThresholdInfo.java",
        "patchSetId": 13
      },
      "lineNbr": 447,
      "author": {
        "id": 1056478
      },
      "writtenOn": "2021-01-15T00:16:11Z",
      "side": 1,
      "message": "Okay that makes sense; the Javadoc should make it clear then.  You should be able to link to the carrier config or other things in the existing API surface that is going to put this in context.  The next person reviewing this will be someone in API council and they\u0027re going to have ZERO context.  So the API docs need to be very explicit as to what this is, where the length comes from, what it is used for, etc.",
      "parentUuid": "5cd8ad0e_3b43f597",
      "range": {
        "startLine": 443,
        "startChar": 4,
        "endLine": 447,
        "endChar": 7
      },
      "revId": "f93c65ab1bc8c7a7f9ff2d487a19bd43f16033b6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2a360091_75855769",
        "filename": "telephony/java/android/telephony/SignalThresholdInfo.java",
        "patchSetId": 13
      },
      "lineNbr": 447,
      "author": {
        "id": 1609802
      },
      "writtenOn": "2021-01-15T00:57:22Z",
      "side": 1,
      "message": "Tyler, thanks for the suggestions.\n\nThe thresholds definition/usage and link to details android document are added into the javadoc of the API. This should give enough context for now.\n\nIf API council is not satisfied, I can still update the javadoc after FC(deadline Jan 20).\nThanks again for the help.",
      "parentUuid": "1972d324_753abbdd",
      "range": {
        "startLine": 443,
        "startChar": 4,
        "endLine": 447,
        "endChar": 7
      },
      "revId": "f93c65ab1bc8c7a7f9ff2d487a19bd43f16033b6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}