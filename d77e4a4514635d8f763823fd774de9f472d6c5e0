{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "c422c538_22d0d972",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1900426
      },
      "writtenOn": "2022-07-20T12:23:39Z",
      "side": 1,
      "message": "06-29 21:29:37.249 1000 2419 5416 I wm_task_moved: [4237,0,0]\n06-29 21:29:37.249 1000 2419 5416 I ActivityTaskManager: moveTaskToBack: Task{ b8fb82e #4237 type\u003dstandard A\u003d10073:miui.task.player U\u003d0 visible\u003dtrue mode\u003dfullscreen translucent\u003dfalse sz\u003d1}\n06-29 21:29:37.251 1000 2419 5416 I wm_set_resumed_activity: [0,com.miui.player/.ui.MiuiMusicActivity,positionChildAt]\n// MiuiMusicActivity is singleTask launchModeï¼ŒisLeafTask\n06-29 21:29:37.261 1000 2419 5175 I wm_finish_activity: [0,259996264,4237,com.miui.player/.ui.MiuiMusicActivity,remove-task]\n06-29 21:29:37.263 1000 2419 5175 I wm_task_moved: [4238,1,9]\n06-29 21:29:37.263 1000 2419 5175 I wm_set_resumed_activity: [0,com.android.calendar/.homepage.AllInOneActivity,positionChildAt]\n06-29 21:29:37.263 1000 2419 5175 I wm_set_resumed_activity: [0,com.android.calendar/.homepage.AllInOneActivity,finish-top]\n06-29 21:29:37.268 1000 2419 5175 I wm_pause_activity: [0,259996264,com.miui.player/.ui.MiuiMusicActivity,userLeaving\u003dfalse,finish]\n06-29 21:29:37.292 1000 2419 2963 I ActivityTaskManager: moveTaskToBack: Task{ b8fb82e #4237 type\u003dstandard A\u003d10073:miui.task.player U\u003d0 visible\u003dfalse mode\u003dfullscreen translucent\u003dtrue sz\u003d1}\n06-29 21:29:37.307  4519 12351 D TaskStackManager: remove task 4237\n06-29 21:29:37.765  2419 2539 W ActivityTaskManager: Activity top resumed state loss timeout for ActivityRecord{f7f3a68 u0 com.miui.player/.ui.MiuiMusicActivity t4237 f} isExiting}\n// dump\nmLastFocusedRootTask\u003dTask{ b8fb82e #4237 type\u003dstandard A\u003d10073:miui.task.player U\u003d0 visible\u003dfalse mode\u003dfullscreen translucent\u003dtrue sz\u003d1}\n\n// MiuiMusicActivity called moveTaskToBack and set nonRoot is true",
      "revId": "d77e4a4514635d8f763823fd774de9f472d6c5e0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e74d5b5b_cbfb8310",
        "filename": "services/core/java/com/android/server/wm/ActivityRecord.java",
        "patchSetId": 3
      },
      "lineNbr": 1616,
      "author": {
        "id": 1320563
      },
      "writtenOn": "2022-07-20T11:56:52Z",
      "side": 1,
      "message": "ActivityRecord.getTaskForActivityLocked will reach here. If it doesn\u0027t have root task, getTaskForActivityLocked will return INVALID_TASK_ID. How does anyTaskForId still return a non null task without root task?",
      "revId": "d77e4a4514635d8f763823fd774de9f472d6c5e0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "44beb6b7_b273ef1b",
        "filename": "services/core/java/com/android/server/wm/ActivityRecord.java",
        "patchSetId": 3
      },
      "lineNbr": 1616,
      "author": {
        "id": 1900426
      },
      "writtenOn": "2022-07-20T12:23:39Z",
      "side": 1,
      "message": "06-29 21:29:37.301 23011 23011 E MessageQueue-JNI: java.lang.NullPointerException: Attempt to invoke virtual method \u0027com.android.server.wm.Task com.android.server.wm.ActivityRecord.getRootTask()\u0027 on a null object reference\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at android.os.Parcel.createExceptionOrNull(Parcel.java:2431)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at android.os.Parcel.createException(Parcel.java:2409)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at android.os.Parcel.readException(Parcel.java:2392)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at android.os.Parcel.readException(Parcel.java:2334)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at android.app.IActivityClientController$Stub$Proxy.moveActivityTaskToBack(IActivityClientController.java:1421)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at android.app.ActivityClient.moveActivityTaskToBack(ActivityClient.java:137)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at android.app.Activity.moveTaskToBack(Activity.java:6976)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at com.miui.player.component.FragmentCenter.back(FragmentCenter.java:382)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at com.miui.player.component.MusicBaseActivity.onBackPressed(MusicBaseActivity.java:911)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at android.app.Activity.onKeyUp(Activity.java:3984)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at android.view.KeyEvent.dispatch(KeyEvent.java:2884)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at android.app.Activity.dispatchKeyEvent(Activity.java:4314)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at androidx.core.app.ComponentActivity.superDispatchKeyEvent(ComponentActivity.java:122)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at androidx.core.view.KeyEventDispatcher.dispatchKeyEvent(KeyEventDispatcher.java:84)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at androidx.core.app.ComponentActivity.dispatchKeyEvent(ComponentActivity.java:140)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at com.android.internal.policy.DecorView.dispatchKeyEvent(DecorView.java:436)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at android.view.ViewRootImpl$ViewPostImeInputStage.processKeyEvent(ViewRootImpl.java:6647)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at android.view.ViewRootImpl$ViewPostImeInputStage.onProcess(ViewRootImpl.java:6494)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:5952)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:6009)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:5975)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at android.view.ViewRootImpl$AsyncInputStage.forward(ViewRootImpl.java:6140)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:5983)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at android.view.ViewRootImpl$AsyncInputStage.apply(ViewRootImpl.java:6197)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:5956)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:6009)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:5975)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:5983)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:5956)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:6009)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:5975)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at android.view.ViewRootImpl$AsyncInputStage.forward(ViewRootImpl.java:6173)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at android.view.ViewRootImpl$ImeInputStage.onFinishedInputEvent(ViewRootImpl.java:6347)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at android.view.inputmethod.InputMethodManager$PendingEvent.run(InputMethodManager.java:3158)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at android.view.inputmethod.InputMethodManager.invokeFinishedInputEventCallback(InputMethodManager.java:2722)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at android.view.inputmethod.InputMethodManager.finishedInputEvent(InputMethodManager.java:2713)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at android.view.inputmethod.InputMethodManager$ImeInputEventSender.onInputEventFinished(InputMethodManager.java:3135)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at android.view.InputEventSender.dispatchInputEventFinished(InputEventSender.java:154)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at android.os.MessageQueue.nativePollOnce(Native Method)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at android.os.MessageQueue.next(MessageQueue.java:340)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at android.os.Looper.loopOnce(Looper.java:169)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at android.os.Looper.loop(Looper.java:300)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at android.app.ActivityThread.main(ActivityThread.java:8237)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at java.lang.reflect.Method.invoke(Native Method)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:556)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1046)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI: Caused by: android.os.RemoteException: Remote stack trace:\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at com.android.server.wm.Task.moveTaskToBack(Task.java:6559)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at com.android.server.wm.ActivityClientController.moveActivityTaskToBack(ActivityClientController.java:349)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at android.app.IActivityClientController$Stub.onTransact(IActivityClientController.java:627)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at com.android.server.wm.ActivityClientController.onTransact(ActivityClientController.java:122)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:     at android.os.Binder.execTransactInternal(Binder.java:1190)\n06-29 21:29:37.301 23011 23011 E MessageQueue-JNI:",
      "parentUuid": "e74d5b5b_cbfb8310",
      "revId": "d77e4a4514635d8f763823fd774de9f472d6c5e0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}