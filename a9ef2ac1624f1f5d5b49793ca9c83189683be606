{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "e8b68905_5d950e58",
        "filename": "packages/SystemUI/src/com/android/keyguard/KeyguardClockSwitchController.java",
        "patchSetId": 12
      },
      "lineNbr": 400,
      "author": {
        "id": 1943370
      },
      "writtenOn": "2023-06-09T06:24:18Z",
      "side": 1,
      "message": "Hi @mpietal@google.com,\n\nAny suggestion for this? I tried to use `mContext`, `getContext()` and this but I end up with NPE in all scenarios while trying atest. But, there\u0027s no NPE while running on device with this change in.\n\nI took reference from [this](https://android.googlesource.com/platform/frameworks/base/+/refs/heads/master/packages/SystemUI/src/com/android/keyguard/KeyguardHostViewController.java#486).\n\nRequest you to please help.\n\n\n```\n[4/14] com.android.keyguard.KeyguardClockSwitchControllerTest#testChangeToDoubleLineClockSetsSmallClock: FAILED (244ms)\n\nSTACKTRACE:\njava.lang.NullPointerException: Attempt to invoke virtual method \u0027int android.content.res.Resources.getInteger(int)\u0027 on a null object reference\n    at com.android.keyguard.KeyguardClockSwitchController.updateDoubleLineClock(KeyguardClockSwitchController.java:398)\n    at com.android.keyguard.KeyguardClockSwitchController.-$$Nest$mupdateDoubleLineClock(Unknown Source:0)\n    at com.android.keyguard.KeyguardClockSwitchController$1.onChange(KeyguardClockSwitchController.java:97)\n    at com.android.keyguard.KeyguardClockSwitchControllerTest.testChangeToDoubleLineClockSetsSmallClock(KeyguardClockSwitchControllerTest.java:281)\n```",
      "range": {
        "startLine": 400,
        "startChar": 16,
        "endLine": 400,
        "endChar": 25
      },
      "revId": "a9ef2ac1624f1f5d5b49793ca9c83189683be606",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ba04d258_d775c82e",
        "filename": "packages/SystemUI/src/com/android/keyguard/KeyguardClockSwitchController.java",
        "patchSetId": 12
      },
      "lineNbr": 400,
      "author": {
        "id": 1568592
      },
      "writtenOn": "2023-06-09T12:41:26Z",
      "side": 1,
      "message": "Looking through the existing tests, you should see patterns like:\n\n`\nTestableResources resources \u003d mContext.getOrCreateTestableResources();\nresources.addOverride(R.integer.config_showTemperatureWarning, 0);\n`",
      "parentUuid": "e8b68905_5d950e58",
      "range": {
        "startLine": 400,
        "startChar": 16,
        "endLine": 400,
        "endChar": 25
      },
      "revId": "a9ef2ac1624f1f5d5b49793ca9c83189683be606",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5a82d481_19d8cdaa",
        "filename": "packages/SystemUI/src/com/android/keyguard/KeyguardClockSwitchController.java",
        "patchSetId": 12
      },
      "lineNbr": 400,
      "author": {
        "id": 1877755
      },
      "writtenOn": "2023-06-15T10:21:10Z",
      "side": 1,
      "message": "This was a different issue, one test reset the mock so getResources wasn\u0027t mocked anymore. Since I don\u0027t know why exactly the mock is being reset the test now re-sets the getResources mock after the reset and works fine now.",
      "parentUuid": "ba04d258_d775c82e",
      "range": {
        "startLine": 400,
        "startChar": 16,
        "endLine": 400,
        "endChar": 25
      },
      "revId": "a9ef2ac1624f1f5d5b49793ca9c83189683be606",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1378a2a6_64a953d2",
        "filename": "packages/SystemUI/src/com/android/keyguard/KeyguardClockSwitchController.java",
        "patchSetId": 12
      },
      "lineNbr": 400,
      "author": {
        "id": 1943370
      },
      "writtenOn": "2023-06-20T07:48:51Z",
      "side": 1,
      "message": "Hi @mpietal@google.com,\n\nThere seems to be a merge conflict for `packages/SystemUI/tests/src/com/android/keyguard/KeyguardClockSwitchControllerTest.java` specifically because of #135. I have moved it 2 lines up. Can you help check if the latest patch set is helping resolve the conflict?\n\nIf not, could you help resolve the internal conflict and submit it?\n\nThanks.",
      "parentUuid": "5a82d481_19d8cdaa",
      "range": {
        "startLine": 400,
        "startChar": 16,
        "endLine": 400,
        "endChar": 25
      },
      "revId": "a9ef2ac1624f1f5d5b49793ca9c83189683be606",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3a619459_d99493c4",
        "filename": "packages/SystemUI/src/com/android/keyguard/KeyguardClockSwitchController.java",
        "patchSetId": 12
      },
      "lineNbr": 400,
      "author": {
        "id": 1877755
      },
      "writtenOn": "2023-06-21T12:46:49Z",
      "side": 1,
      "message": "@schfan@google.com @mpietal@google.com Please help trigger presubmit check",
      "parentUuid": "1378a2a6_64a953d2",
      "range": {
        "startLine": 400,
        "startChar": 16,
        "endLine": 400,
        "endChar": 25
      },
      "revId": "a9ef2ac1624f1f5d5b49793ca9c83189683be606",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "03085a42_4b1ef769",
        "filename": "packages/SystemUI/src/com/android/keyguard/KeyguardClockSwitchController.java",
        "patchSetId": 12
      },
      "lineNbr": 400,
      "author": {
        "id": 1943370
      },
      "writtenOn": "2023-06-26T11:43:00Z",
      "side": 1,
      "message": "@schfan@google.com @mpietal@google.com, could you please help check what the TH failure is? I hope it\u0027s not related to unit tests since they are still passing when tested with atest on our side.",
      "parentUuid": "3a619459_d99493c4",
      "range": {
        "startLine": 400,
        "startChar": 16,
        "endLine": 400,
        "endChar": 25
      },
      "revId": "a9ef2ac1624f1f5d5b49793ca9c83189683be606",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "541fad0a_684bc03c",
        "filename": "packages/SystemUI/src/com/android/keyguard/KeyguardClockSwitchController.java",
        "patchSetId": 12
      },
      "lineNbr": 400,
      "author": {
        "id": 1943370
      },
      "writtenOn": "2023-06-26T16:54:02Z",
      "side": 1,
      "message": "Please help merge this change if the warnings are not blocker.\n\nThanks.",
      "parentUuid": "03085a42_4b1ef769",
      "range": {
        "startLine": 400,
        "startChar": 16,
        "endLine": 400,
        "endChar": 25
      },
      "revId": "a9ef2ac1624f1f5d5b49793ca9c83189683be606",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b0e76b00_2ef21111",
        "filename": "packages/SystemUI/src/com/android/keyguard/KeyguardClockSwitchController.java",
        "patchSetId": 12
      },
      "lineNbr": 400,
      "author": {
        "id": 1943370
      },
      "writtenOn": "2023-06-27T14:52:06Z",
      "side": 1,
      "message": "Hi @mpietal@google.com,\n\nPlease help merge this change. I\u0027m afraid presubmit would expire.",
      "parentUuid": "541fad0a_684bc03c",
      "range": {
        "startLine": 400,
        "startChar": 16,
        "endLine": 400,
        "endChar": 25
      },
      "revId": "a9ef2ac1624f1f5d5b49793ca9c83189683be606",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}