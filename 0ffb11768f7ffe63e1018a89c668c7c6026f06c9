{
  "comments": [
    {
      "key": {
        "uuid": "56ba1091_d0dca60d",
        "filename": "services/core/jni/com_android_server_am_Cgroups.cpp",
        "patchSetId": 1
      },
      "lineNbr": 23,
      "author": {
        "id": 1105075
      },
      "writtenOn": "2018-05-03T17:19:13Z",
      "side": 1,
      "message": "Will this lead a problem if we have too many in root group causing starvation, shall we move all root into something like /dev/cpuctl/root",
      "range": {
        "startLine": 23,
        "startChar": 23,
        "endLine": 23,
        "endChar": 48
      },
      "revId": "0ffb11768f7ffe63e1018a89c668c7c6026f06c9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "171bcbc2_9a553ec0",
        "filename": "services/core/jni/com_android_server_am_Cgroups.cpp",
        "patchSetId": 1
      },
      "lineNbr": 23,
      "author": {
        "id": 1105075
      },
      "writtenOn": "2018-05-03T17:22:13Z",
      "side": 1,
      "message": "Actually, I was thinking and talking to John on bringing back cgroup the right way",
      "parentUuid": "56ba1091_d0dca60d",
      "range": {
        "startLine": 23,
        "startChar": 23,
        "endLine": 23,
        "endChar": 48
      },
      "revId": "0ffb11768f7ffe63e1018a89c668c7c6026f06c9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9e92b1b7_c96cb750",
        "filename": "services/core/jni/com_android_server_am_Cgroups.cpp",
        "patchSetId": 1
      },
      "lineNbr": 23,
      "author": {
        "id": 1041495
      },
      "writtenOn": "2018-05-04T14:21:57Z",
      "side": 1,
      "message": "To be clear, this is related to what I wrote in the commit message, right?\n\n\u003e This is only performed on applications, so system services and daemons\n\u003e will be unaffected (i.e. each of their threads will still get their\n\u003e own slice of CPU time). Those processes had better be careful about\n\u003e the amount of work they\u0027re doing.\n\nIf several tasks in the root cgroup are too greedy, then yes, they could starve out app processes. But it\u0027s not really much worse than before; what could previously starve out one app thread can now starve out one app process instead (so an app with only one thread scheduled will have an equivalent situation). Both are bad and should not happen.\n\nIt would definitely be possible to move all other (non-RT) tasks to some non-root cgroup with a high shares setting. But that shouldn\u0027t be done from system_server anyway.\n\n\n\u003e Actually, I was thinking and talking to John on bringing back cgroup the right way\n\nSorry, I\u0027m not sure which John you\u0027re talking about. And does that mean you think this patch is the wrong way, or am I on kind of the same track that you were considering?",
      "parentUuid": "171bcbc2_9a553ec0",
      "range": {
        "startLine": 23,
        "startChar": 23,
        "endLine": 23,
        "endChar": 48
      },
      "revId": "0ffb11768f7ffe63e1018a89c668c7c6026f06c9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}