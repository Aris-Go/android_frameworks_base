{
  "comments": [
    {
      "key": {
        "uuid": "c87edb7c_b747ab21",
        "filename": "/COMMIT_MSG",
        "patchSetId": 14
      },
      "lineNbr": 11,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-03-31T15:21:14Z",
      "side": 1,
      "message": "Remove this.",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 11,
        "endChar": 43
      },
      "revId": "2415100fd1999b4335a3fb88d8467d89fbd9df46",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ccdc7c42_78e283b6",
        "filename": "core/java/android/net/IIpSecService.aidl",
        "patchSetId": 14
      },
      "lineNbr": 31,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-03-31T15:21:14Z",
      "side": 1,
      "message": "I don\u0027t think primitive parameters such as int require an \"in\" specifier. Only objects such as string do. Care to remove these for legibility?",
      "range": {
        "startLine": 31,
        "startChar": 12,
        "endLine": 31,
        "endChar": 14
      },
      "revId": "2415100fd1999b4335a3fb88d8467d89fbd9df46",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3734be71_eb72e6b0",
        "filename": "core/java/android/net/IpSecConfig.java",
        "patchSetId": 14
      },
      "lineNbr": 62,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-03-31T15:21:14Z",
      "side": 1,
      "message": "Do you use it? I don\u0027t see any users in this file. If it\u0027s unused, delete it.",
      "range": {
        "startLine": 60,
        "startChar": 0,
        "endLine": 62,
        "endChar": 20
      },
      "revId": "2415100fd1999b4335a3fb88d8467d89fbd9df46",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "efd40f8e_99e77912",
        "filename": "core/java/android/net/IpSecConfig.java",
        "patchSetId": 14
      },
      "lineNbr": 147,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-03-31T15:21:14Z",
      "side": 1,
      "message": "You don\u0027t need to do this, since Java guarantees that ints are initialized to 0. I think you might still need an empty constructor though.",
      "range": {
        "startLine": 145,
        "startChar": 0,
        "endLine": 147,
        "endChar": 51
      },
      "revId": "2415100fd1999b4335a3fb88d8467d89fbd9df46",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2eb6b7bf_e907d707",
        "filename": "core/java/android/net/IpSecManager.java",
        "patchSetId": 14
      },
      "lineNbr": 145,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-03-31T15:21:14Z",
      "side": 1,
      "message": "Nit: more usual indentation would be to put this on the same line as \"Bundle result\".",
      "range": {
        "startLine": 145,
        "startChar": 24,
        "endLine": 145,
        "endChar": 63
      },
      "revId": "2415100fd1999b4335a3fb88d8467d89fbd9df46",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "233fc7f1_ff4abb65",
        "filename": "core/java/android/net/IpSecManager.java",
        "patchSetId": 14
      },
      "lineNbr": 149,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-03-31T15:21:14Z",
      "side": 1,
      "message": "Nit: delete?",
      "range": {
        "startLine": 149,
        "startChar": 79,
        "endLine": 149,
        "endChar": 85
      },
      "revId": "2415100fd1999b4335a3fb88d8467d89fbd9df46",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d737669a_7d9917d7",
        "filename": "core/java/android/net/IpSecManager.java",
        "patchSetId": 14
      },
      "lineNbr": 162,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-03-31T15:21:14Z",
      "side": 1,
      "message": "I wonder if this should throw an exception instead? While this should \"never\" happen, I think it will crash the app. Also elsewhere.",
      "range": {
        "startLine": 162,
        "startChar": 28,
        "endLine": 162,
        "endChar": 31
      },
      "revId": "2415100fd1999b4335a3fb88d8467d89fbd9df46",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "82c92014_aaa5cd3e",
        "filename": "core/java/android/net/IpSecTransform.java",
        "patchSetId": 14
      },
      "lineNbr": 18,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-03-31T15:21:14Z",
      "side": 1,
      "message": "Nit: you only seem to use this once, and you could make that callsite use Context.IPSEC_SERVICE instead.",
      "range": {
        "startLine": 18,
        "startChar": 0,
        "endLine": 18,
        "endChar": 52
      },
      "revId": "2415100fd1999b4335a3fb88d8467d89fbd9df46",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d86f87fe_7f9ff5e5",
        "filename": "core/java/android/net/IpSecTransform.java",
        "patchSetId": 14
      },
      "lineNbr": 121,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-03-31T15:21:14Z",
      "side": 1,
      "message": "This duplicates IpSecManager.SecurityParameterIndex.KEY_STATUS. Consider moving that to IpSecManager and using it instead.",
      "range": {
        "startLine": 121,
        "startChar": 4,
        "endLine": 121,
        "endChar": 53
      },
      "revId": "2415100fd1999b4335a3fb88d8467d89fbd9df46",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "29927ecc_5990fb2a",
        "filename": "core/java/android/net/IpSecTransform.java",
        "patchSetId": 14
      },
      "lineNbr": 123,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-03-31T15:21:14Z",
      "side": 1,
      "message": "Ditto.",
      "range": {
        "startLine": 123,
        "startChar": 4,
        "endLine": 123,
        "endChar": 62
      },
      "revId": "2415100fd1999b4335a3fb88d8467d89fbd9df46",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "95a5e5a0_09a8c298",
        "filename": "core/java/android/net/IpSecTransform.java",
        "patchSetId": 14
      },
      "lineNbr": 125,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-03-31T15:21:14Z",
      "side": 1,
      "message": "Maybe give this method a name that suggests that it will throw if there\u0027s an error? checkStatusOrThrow?",
      "range": {
        "startLine": 125,
        "startChar": 17,
        "endLine": 125,
        "endChar": 34
      },
      "revId": "2415100fd1999b4335a3fb88d8467d89fbd9df46",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cb4b0cc4_292edc7e",
        "filename": "core/java/android/net/IpSecTransform.java",
        "patchSetId": 14
      },
      "lineNbr": 133,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-03-31T15:21:14Z",
      "side": 1,
      "message": "In a future CL, consider passing a the error message back from the service in the Bundle. That would allow passing back things like the number of transforms the user already has active.",
      "range": {
        "startLine": 133,
        "startChar": 24,
        "endLine": 133,
        "endChar": 65
      },
      "revId": "2415100fd1999b4335a3fb88d8467d89fbd9df46",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a6722599_24be555c",
        "filename": "core/java/android/net/IpSecTransform.java",
        "patchSetId": 14
      },
      "lineNbr": 262,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-03-31T15:21:14Z",
      "side": 1,
      "message": "Is this basically impossible, or does it indicate a programming error? If the latter, I think Log.wtf is inappropriate since it will crash the app.",
      "range": {
        "startLine": 262,
        "startChar": 16,
        "endLine": 262,
        "endChar": 19
      },
      "revId": "2415100fd1999b4335a3fb88d8467d89fbd9df46",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a73cd5a_1d9c3027",
        "filename": "core/java/android/net/IpSecTransform.java",
        "patchSetId": 14
      },
      "lineNbr": 302,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-03-31T15:21:14Z",
      "side": 1,
      "message": "Does this still need to be package-visible? Who calls it?",
      "range": {
        "startLine": 302,
        "startChar": 4,
        "endLine": 302,
        "endChar": 17
      },
      "revId": "2415100fd1999b4335a3fb88d8467d89fbd9df46",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "64c09f60_ecfee4fc",
        "filename": "core/java/android/net/IpSecTransform.java",
        "patchSetId": 14
      },
      "lineNbr": 307,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-03-31T15:21:14Z",
      "side": 1,
      "message": "Ditto.",
      "range": {
        "startLine": 307,
        "startChar": 4,
        "endLine": 307,
        "endChar": 17
      },
      "revId": "2415100fd1999b4335a3fb88d8467d89fbd9df46",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a28a64c0_e66fc53a",
        "filename": "services/core/java/com/android/server/IpSecService.java",
        "patchSetId": 14
      },
      "lineNbr": 56,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-03-31T15:21:14Z",
      "side": 1,
      "message": "I think this is a negative number. Is that OK?",
      "range": {
        "startLine": 56,
        "startChar": 63,
        "endLine": 56,
        "endChar": 73
      },
      "revId": "2415100fd1999b4335a3fb88d8467d89fbd9df46",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6ace8f52_57c52b57",
        "filename": "services/core/java/com/android/server/IpSecService.java",
        "patchSetId": 14
      },
      "lineNbr": 58,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-03-31T15:21:14Z",
      "side": 1,
      "message": "Very elegant.",
      "range": {
        "startLine": 58,
        "startChar": 4,
        "endLine": 58,
        "endChar": 42
      },
      "revId": "2415100fd1999b4335a3fb88d8467d89fbd9df46",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5bced999_8aac0e15",
        "filename": "services/core/java/com/android/server/IpSecService.java",
        "patchSetId": 14
      },
      "lineNbr": 66,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-03-31T15:21:14Z",
      "side": 1,
      "message": "Since this is a static method, would suggest explicitly wording it as Binder.getCallingPid(). Same for getCallingUid.",
      "range": {
        "startLine": 66,
        "startChar": 18,
        "endLine": 66,
        "endChar": 31
      },
      "revId": "2415100fd1999b4335a3fb88d8467d89fbd9df46",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1b51e822_192f9d5a",
        "filename": "services/core/java/com/android/server/IpSecService.java",
        "patchSetId": 14
      },
      "lineNbr": 134,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-03-31T15:21:14Z",
      "side": 1,
      "message": "Use the class member DIRECTIONS instead?",
      "range": {
        "startLine": 134,
        "startChar": 20,
        "endLine": 134,
        "endChar": 89
      },
      "revId": "2415100fd1999b4335a3fb88d8467d89fbd9df46",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "581267fb_2fc35a14",
        "filename": "services/core/java/com/android/server/IpSecService.java",
        "patchSetId": 14
      },
      "lineNbr": 150,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-03-31T15:21:14Z",
      "side": 1,
      "message": "If this code runs while netd is unavailable (e.g., if it crashed and is restarted), will it crash the system server? We should avoid that if possible.",
      "range": {
        "startLine": 150,
        "startChar": 28,
        "endLine": 150,
        "endChar": 51
      },
      "revId": "2415100fd1999b4335a3fb88d8467d89fbd9df46",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "71f4b09d_6d8cd8f4",
        "filename": "services/core/java/com/android/server/IpSecService.java",
        "patchSetId": 14
      },
      "lineNbr": 150,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-03-31T23:39:03Z",
      "side": 1,
      "message": "Please address this comment.",
      "parentUuid": "581267fb_2fc35a14",
      "range": {
        "startLine": 150,
        "startChar": 28,
        "endLine": 150,
        "endChar": 51
      },
      "revId": "2415100fd1999b4335a3fb88d8467d89fbd9df46",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ec71e280_cab52923",
        "filename": "services/core/java/com/android/server/IpSecService.java",
        "patchSetId": 14
      },
      "lineNbr": 187,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-03-31T15:21:14Z",
      "side": 1,
      "message": "Can we make this method safe to call more than once? Maybe with:\n\n    if (mResourceId \u003d\u003d INVALID_RESOURCE_ID) return;\n\nIf so, we can use it both in the binderDied() cleanup path and in the explicit delete path.\n\nNot necessarily in this CL.",
      "range": {
        "startLine": 187,
        "startChar": 0,
        "endLine": 187,
        "endChar": 17
      },
      "revId": "2415100fd1999b4335a3fb88d8467d89fbd9df46",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3048e7b2_89f7509c",
        "filename": "services/core/java/com/android/server/IpSecService.java",
        "patchSetId": 14
      },
      "lineNbr": 205,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-03-31T15:21:14Z",
      "side": 1,
      "message": "Can you add GuardedBy annotations to explain that these two members must be accessed while holding their respective class locks?",
      "range": {
        "startLine": 204,
        "startChar": 0,
        "endLine": 205,
        "endChar": 87
      },
      "revId": "2415100fd1999b4335a3fb88d8467d89fbd9df46",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "374fc168_e7c709a7",
        "filename": "services/core/java/com/android/server/IpSecService.java",
        "patchSetId": 14
      },
      "lineNbr": 279,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-03-31T15:21:14Z",
      "side": 1,
      "message": "Suggest putting these two on one line.",
      "range": {
        "startLine": 278,
        "startChar": 0,
        "endLine": 279,
        "endChar": 37
      },
      "revId": "2415100fd1999b4335a3fb88d8467d89fbd9df46",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e26666b_703f8d0f",
        "filename": "services/core/java/com/android/server/IpSecService.java",
        "patchSetId": 14
      },
      "lineNbr": 300,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-03-31T15:21:14Z",
      "side": 1,
      "message": "Nit: is this the correct status to use? Maybe add a TODO to get the actual error code from netd and do more detailed error reporting.",
      "range": {
        "startLine": 300,
        "startChar": 20,
        "endLine": 300,
        "endChar": 55
      },
      "revId": "2415100fd1999b4335a3fb88d8467d89fbd9df46",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b417cf5a_6e832d9a",
        "filename": "services/core/java/com/android/server/IpSecService.java",
        "patchSetId": 14
      },
      "lineNbr": 374,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-03-31T15:21:14Z",
      "side": 1,
      "message": "Add a TODO here to ensure that if the first ipSecAddSecurityAssociation call succeeds but the second fails, we ask netd to clean up the first one.",
      "range": {
        "startLine": 374,
        "startChar": 20,
        "endLine": 374,
        "endChar": 37
      },
      "revId": "2415100fd1999b4335a3fb88d8467d89fbd9df46",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e90e95df_925f9c92",
        "filename": "services/core/java/com/android/server/IpSecService.java",
        "patchSetId": 14
      },
      "lineNbr": 402,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-03-31T15:21:14Z",
      "side": 1,
      "message": "Nit: long line",
      "range": {
        "startLine": 402,
        "startChar": 97,
        "endLine": 402,
        "endChar": 101
      },
      "revId": "2415100fd1999b4335a3fb88d8467d89fbd9df46",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e5f56e0e_8bae4b7d",
        "filename": "services/core/java/com/android/server/IpSecService.java",
        "patchSetId": 14
      },
      "lineNbr": 414,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-03-31T15:21:14Z",
      "side": 1,
      "message": "Technically it could, if we try to release it when netd is crashing. Not sure how much we can do about that at this point though.",
      "range": {
        "startLine": 414,
        "startChar": 71,
        "endLine": 414,
        "endChar": 95
      },
      "revId": "2415100fd1999b4335a3fb88d8467d89fbd9df46",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d3f319fb_31ca387c",
        "filename": "services/core/java/com/android/server/IpSecService.java",
        "patchSetId": 14
      },
      "lineNbr": 439,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-03-31T15:21:14Z",
      "side": 1,
      "message": "Add a TODO to refactor this code out to a function?",
      "range": {
        "startLine": 437,
        "startChar": 0,
        "endLine": 439,
        "endChar": 13
      },
      "revId": "2415100fd1999b4335a3fb88d8467d89fbd9df46",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "496d0ae8_9ea6de15",
        "filename": "services/core/java/com/android/server/IpSecService.java",
        "patchSetId": 14
      },
      "lineNbr": 444,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-03-31T15:21:14Z",
      "side": 1,
      "message": "Can you use DIRECTIONS instead?",
      "range": {
        "startLine": 444,
        "startChar": 24,
        "endLine": 444,
        "endChar": 93
      },
      "revId": "2415100fd1999b4335a3fb88d8467d89fbd9df46",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}