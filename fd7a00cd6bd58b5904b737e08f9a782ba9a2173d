{
  "comments": [
    {
      "key": {
        "uuid": "7108acb8_5768b3ef",
        "filename": "services/net/java/android/net/util/BlockingSocketReader.java",
        "patchSetId": 2
      },
      "lineNbr": 58,
      "author": {
        "id": 1107893
      },
      "writtenOn": "2017-09-20T01:27:22Z",
      "side": 1,
      "message": "I would rather avoid having to store these variables here as non final if we can get them with HandlerThread.getLooper() and HandlerThread.getThreadHandler().\n\nmLooper and mHandler are only used in a couple of places in start() and stop(). Do you foresee more use of these variables in future patches ?",
      "range": {
        "startLine": 57,
        "startChar": 0,
        "endLine": 58,
        "endChar": 29
      },
      "revId": "fd7a00cd6bd58b5904b737e08f9a782ba9a2173d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bfef5d71_aaca6bbe",
        "filename": "services/net/java/android/net/util/BlockingSocketReader.java",
        "patchSetId": 2
      },
      "lineNbr": 97,
      "author": {
        "id": 1015428
      },
      "writtenOn": "2017-09-20T01:33:47Z",
      "side": 1,
      "message": "This is only used at stop time which presumably will be called only once â€“ there is little point in storing this in a member.",
      "range": {
        "startLine": 97,
        "startChar": 8,
        "endLine": 97,
        "endChar": 15
      },
      "revId": "fd7a00cd6bd58b5904b737e08f9a782ba9a2173d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b70e6b64_31469c1a",
        "filename": "services/net/java/android/net/util/BlockingSocketReader.java",
        "patchSetId": 2
      },
      "lineNbr": 104,
      "author": {
        "id": 1015428
      },
      "writtenOn": "2017-09-20T01:33:47Z",
      "side": 1,
      "message": "I think this now needs comments that the actual stopping is asynchronous, as it\u0027s not unlikely to make a difference to subclasses and/or users of this class. Granted onExit() is there for this reason, but it didn\u0027t use to be called at least by this class.",
      "range": {
        "startLine": 104,
        "startChar": 22,
        "endLine": 104,
        "endChar": 26
      },
      "revId": "fd7a00cd6bd58b5904b737e08f9a782ba9a2173d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "70c24658_f64ae65a",
        "filename": "services/net/java/android/net/util/BlockingSocketReader.java",
        "patchSetId": 2
      },
      "lineNbr": 106,
      "author": {
        "id": 1107893
      },
      "writtenOn": "2017-09-20T01:27:22Z",
      "side": 1,
      "message": "How can this happen if mHandler is obtained from HandlerThread.getThreadHandler() ?\n\nIf stop() is called before start(), inspecting mRunning should prevent any issue, wouldn\u0027t it ?",
      "range": {
        "startLine": 106,
        "startChar": 8,
        "endLine": 106,
        "endChar": 31
      },
      "revId": "fd7a00cd6bd58b5904b737e08f9a782ba9a2173d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2bdbe1d5_33998653",
        "filename": "services/net/java/android/net/util/BlockingSocketReader.java",
        "patchSetId": 2
      },
      "lineNbr": 121,
      "author": {
        "id": 1015428
      },
      "writtenOn": "2017-09-20T01:33:47Z",
      "side": 1,
      "message": "This can be expressed with (null !\u003d mHandler) and do away with the boolean. Or, the handler can be obtained from the thread every time and have the boolean be the Source of Truth.",
      "range": {
        "startLine": 121,
        "startChar": 46,
        "endLine": 121,
        "endChar": 54
      },
      "revId": "fd7a00cd6bd58b5904b737e08f9a782ba9a2173d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f7ff4214_7cd33e93",
        "filename": "services/net/java/android/net/util/BlockingSocketReader.java",
        "patchSetId": 2
      },
      "lineNbr": 151,
      "author": {
        "id": 1107893
      },
      "writtenOn": "2017-09-20T01:27:22Z",
      "side": 1,
      "message": "Maybe make this a static constant too ?",
      "range": {
        "startLine": 151,
        "startChar": 8,
        "endLine": 151,
        "endChar": 63
      },
      "revId": "fd7a00cd6bd58b5904b737e08f9a782ba9a2173d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b848d926_124b60d9",
        "filename": "services/net/java/android/net/util/BlockingSocketReader.java",
        "patchSetId": 2
      },
      "lineNbr": 168,
      "author": {
        "id": 1107893
      },
      "writtenOn": "2017-09-20T01:27:22Z",
      "side": 1,
      "message": "I don\u0027t see EWOULDBLOCK case being handled ? It is always equivalent to EAGAIN ?",
      "range": {
        "startLine": 168,
        "startChar": 47,
        "endLine": 168,
        "endChar": 58
      },
      "revId": "fd7a00cd6bd58b5904b737e08f9a782ba9a2173d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "23bdac4d_5e9beb49",
        "filename": "services/net/java/android/net/util/BlockingSocketReader.java",
        "patchSetId": 2
      },
      "lineNbr": 175,
      "author": {
        "id": 1107893
      },
      "writtenOn": "2017-09-20T01:27:22Z",
      "side": 1,
      "message": "Is this something we could try to do once only in start() or in the ctor() ?",
      "range": {
        "startLine": 175,
        "startChar": 16,
        "endLine": 175,
        "endChar": 52
      },
      "revId": "fd7a00cd6bd58b5904b737e08f9a782ba9a2173d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}